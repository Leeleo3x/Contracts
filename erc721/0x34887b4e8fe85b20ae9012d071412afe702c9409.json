{"Runs": "200", "SwarmSource": "bzzr://13edb9b776421732d127c5f4ce31c561e00bbef5b047989e7192b2d84131ecca", "ABI": "[{\"constant\":true,\"inputs\":[],\"name\":\"totalDragons\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_interfaceID\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"},{\"name\":\"roleName\",\"type\":\"string\"}],\"name\":\"checkRole\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"auctionContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_dragonPrice\",\"type\":\"uint256\"},{\"name\":\"_endBlockNumber\",\"type\":\"uint256\"}],\"name\":\"add2MarketPlace\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_priceSelectFight2Death\",\"type\":\"uint256\"}],\"name\":\"changePriceSelectFight2Death\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_genRNGContractAddress\",\"type\":\"address\"}],\"name\":\"changeGenRNGcontractAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_lastOwner\",\"type\":\"address\"},{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_deathReason\",\"type\":\"uint256\"}],\"name\":\"killDragonDeathContract\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"priceDecraseTime2Action\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_fmpContractAddress\",\"type\":\"address\"}],\"name\":\"changeFMPcontractAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"dragonName\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"},{\"name\":\"roleName\",\"type\":\"string\"}],\"name\":\"hasRole\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_needFightToAdult\",\"type\":\"uint256\"}],\"name\":\"changeNeedFightToAdult\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_mutagenCount\",\"type\":\"uint256\"}],\"name\":\"mutagen2Face\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"tokenOfOwnerByIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdrawAllEther\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"secondsInBlock\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_timeToBorn\",\"type\":\"uint256\"},{\"name\":\"_parentOne\",\"type\":\"uint256\"},{\"name\":\"_parentTwo\",\"type\":\"uint256\"},{\"name\":\"_gen1\",\"type\":\"uint256\"},{\"name\":\"_gen2\",\"type\":\"uint240\"}],\"name\":\"createDragon\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_mutagen2FaceContract\",\"type\":\"address\"}],\"name\":\"changeMutagen2FaceContract\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"isApprovedOrOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_newName\",\"type\":\"string\"}],\"name\":\"addDragonName\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ROLE_PAUSE_ADMIN\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_auctionContract\",\"type\":\"address\"}],\"name\":\"changeAuctionContract\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"exists\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"tokenByIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"priceChangeName\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"}],\"name\":\"addRandomFight2Death\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"fmpContractAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"priceSelectFight2Death\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_priceChangeName\",\"type\":\"uint256\"}],\"name\":\"changePriceChangeName\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"tokensOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_randomFight2DeathContract\",\"type\":\"address\"}],\"name\":\"changeRandomFight2DeathContract\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"}],\"name\":\"birthDragon\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"}],\"name\":\"superDragon\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"liveDragons\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_addNextBlock2Action\",\"type\":\"uint256\"}],\"name\":\"setTime2Rest\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonsStatsContract\",\"type\":\"address\"}],\"name\":\"changeDragonsStatsContract\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"dragonsStatsContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_priceRandomFight2Death\",\"type\":\"uint256\"}],\"name\":\"changePriceRandomFight2Death\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"},{\"name\":\"roleName\",\"type\":\"string\"}],\"name\":\"adminRemoveRole\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_startPrice\",\"type\":\"uint256\"},{\"name\":\"_step\",\"type\":\"uint256\"},{\"name\":\"_endPrice\",\"type\":\"uint256\"},{\"name\":\"_endBlockNumber\",\"type\":\"uint256\"}],\"name\":\"add2Auction\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"needFightToAdult\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"randomFight2DeathContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"setStageThirdBegin\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"}],\"name\":\"decraseTimeToAction\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_currentAction\",\"type\":\"uint8\"}],\"name\":\"setCurrentAction\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_superContract\",\"type\":\"address\"}],\"name\":\"changeSuperContract\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_wallet\",\"type\":\"address\"}],\"name\":\"changeWallet\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_gen\",\"type\":\"uint256\"},{\"name\":\"_which\",\"type\":\"uint8\"}],\"name\":\"changeDragonGen\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"superContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"},{\"name\":\"roleName\",\"type\":\"string\"}],\"name\":\"adminAddRole\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"priceRandomFight2Death\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mutagen2FaceContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"necropolisContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_selectFight2DeathContract\",\"type\":\"address\"}],\"name\":\"changeSelectFight2DeathContract\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_yourDragonID\",\"type\":\"uint256\"},{\"name\":\"_oppDragonID\",\"type\":\"uint256\"},{\"name\":\"_endBlockNumber\",\"type\":\"uint256\"}],\"name\":\"addSelctFight2Death\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_adultDragonStage\",\"type\":\"uint8\"}],\"name\":\"changeAdultDragonStage\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"tokenURI\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_priceDecraseTime2Action\",\"type\":\"uint256\"}],\"name\":\"changePriceDecraseTime2Action\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"dragons\",\"outputs\":[{\"name\":\"gen1\",\"type\":\"uint256\"},{\"name\":\"stage\",\"type\":\"uint8\"},{\"name\":\"currentAction\",\"type\":\"uint8\"},{\"name\":\"gen2\",\"type\":\"uint240\"},{\"name\":\"nextBlock2Action\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"genRNGContractAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ROLE_ADMIN\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"selectFight2DeathContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_secondsInBlock\",\"type\":\"uint256\"}],\"name\":\"changeSecondsInBlock\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"}],\"name\":\"matureDragon\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"},{\"name\":\"_stage\",\"type\":\"uint8\"}],\"name\":\"checkDragonStatus\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_dragonID\",\"type\":\"uint256\"}],\"name\":\"killDragon\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_wallet\",\"type\":\"address\"},{\"name\":\"_necropolisContract\",\"type\":\"address\"},{\"name\":\"_dragonsStatsContract\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"addr\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"roleName\",\"type\":\"string\"}],\"name\":\"RoleAdded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"addr\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"roleName\",\"type\":\"string\"}],\"name\":\"RoleRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_approved\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_operator\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"}]", "Library": "", "CompilerVersion": "v0.4.23+commit.124ca40d", "ConstructorArguments": "ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef000000000000000000000000c8157b670c89f4efdc9b6f00a208036ba1cf8dee0000000000000000000000003cd20d014384c16537a9ac945d7c39e470183e790000000000000000000000003c29ef59bebe160bbc59c02130b8f637fa11a978", "SourceCode": "pragma solidity ^0.4.23;\r\n\r\n\r\ncontract Necropolis {\r\n    function addDragon(address _lastDragonOwner, uint256 _dragonID, uint256 _deathReason) external;\r\n}\r\n\r\n\r\ncontract GenRNG {\r\n    function getNewGens(address _from, uint256 _dragonID) external returns (uint256[2] resultGen);\r\n}\r\n\r\n\r\ncontract DragonSelectFight2Death {\r\n    function addSelctFight2Death(\r\n        address _dragonOwner, \r\n        uint256 _yourDragonID, \r\n        uint256 _oppDragonID, \r\n        uint256 _endBlockNumber, \r\n        uint256 _priceSelectFight2Death\r\n    ) \r\n        external;\r\n}\r\n\r\n\r\ncontract DragonsRandomFight2Death {\r\n    function addRandomFight2Death(address _dragonOwner, uint256 _DragonID) external;\r\n}\r\n\r\n\r\ncontract FixMarketPlace {\r\n    function add2MarketPlace(address _dragonOwner, uint256 _dragonID, uint256 _dragonPrice, uint256 _endBlockNumber) external returns (bool);\r\n}\r\n\r\n\r\ncontract Auction {\r\n    function add2Auction(\r\n        address _dragonOwner, \r\n        uint256 _dragonID, \r\n        uint256 _startPrice, \r\n        uint256 _step, \r\n        uint256 _endPrice, \r\n        uint256 _endBlockNumber\r\n    ) \r\n        external \r\n        returns (bool);\r\n}\r\n\r\n\r\ncontract DragonStats {\r\n    function setParents(uint256 _dragonID, uint256 _parentOne, uint256 _parentTwo) external;\r\n    function setBirthBlock(uint256 _dragonID) external;\r\n    function incChildren(uint256 _dragonID) external;\r\n    function setDeathBlock(uint256 _dragonID) external;\r\n    function getDragonFight(uint256 _dragonID) external view returns (uint256);\r\n}\r\n\r\n\r\ncontract SuperContract {\r\n    function checkDragon(uint256 _dragonID) external returns (bool);\r\n}\r\n\r\n\r\ncontract Mutagen2Face {\r\n    function addDragon(address _dragonOwner, uint256 _dragonID, uint256 mutagenCount) external;\r\n}\r\n\r\n\r\nlibrary SafeMath {\r\n\r\n  /**\r\n  * @dev Multiplies two numbers, throws on overflow.\r\n  */\r\n  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    if (a == 0) {\r\n      return 0;\r\n    }\r\n    uint256 c = a * b;\r\n    assert(c / a == b);\r\n    return c;\r\n  }\r\n\r\n  /**\r\n  * @dev Integer division of two numbers, truncating the quotient.\r\n  */\r\n  function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    // assert(b > 0); // Solidity automatically throws when dividing by 0\r\n    // uint256 c = a / b;\r\n    // assert(a == b * c + a % b); // There is no case in which this doesn't hold\r\n    return a / b;\r\n  }\r\n\r\n  /**\r\n  * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\r\n  */\r\n  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    assert(b <= a);\r\n    return a - b;\r\n  }\r\n\r\n  /**\r\n  * @dev Adds two numbers, throws on overflow.\r\n  */\r\n  function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n    uint256 c = a + b;\r\n    assert(c >= a);\r\n    return c;\r\n  }\r\n}\r\n\r\n\r\nlibrary AddressUtils {\r\n\r\n  /**\r\n   * Returns whether the target address is a contract\r\n   * @dev This function will return false if invoked during the constructor of a contract,\r\n   *  as the code is not actually created until after the constructor finishes.\r\n   * @param addr address to check\r\n   * @return whether the target address is a contract\r\n   */\r\n  function isContract(address addr) internal view returns (bool) {\r\n    uint256 size;\r\n    // XXX Currently there is no better way to check if there is a contract in an address\r\n    // than to check the size of the code at that address.\r\n    // See https://ethereum.stackexchange.com/a/14016/36603\r\n    // for more details about how this works.\r\n    // TODO Check this again before the Serenity release, because all addresses will be\r\n    // contracts then.\r\n    assembly { size := extcodesize(addr) }  // solium-disable-line security/no-inline-assembly\r\n    return size > 0;\r\n  }\r\n\r\n}\r\n\r\n\r\nlibrary Roles {\r\n  struct Role {\r\n    mapping (address => bool) bearer;\r\n  }\r\n\r\n  /**\r\n   * @dev give an address access to this role\r\n   */\r\n  function add(Role storage role, address addr)\r\n    internal\r\n  {\r\n    role.bearer[addr] = true;\r\n  }\r\n\r\n  /**\r\n   * @dev remove an address' access to this role\r\n   */\r\n  function remove(Role storage role, address addr)\r\n    internal\r\n  {\r\n    role.bearer[addr] = false;\r\n  }\r\n\r\n  /**\r\n   * @dev check if an address has this role\r\n   * // reverts\r\n   */\r\n  function check(Role storage role, address addr)\r\n    view\r\n    internal\r\n  {\r\n    require(has(role, addr));\r\n  }\r\n\r\n  /**\r\n   * @dev check if an address has this role\r\n   * @return bool\r\n   */\r\n  function has(Role storage role, address addr)\r\n    view\r\n    internal\r\n    returns (bool)\r\n  {\r\n    return role.bearer[addr];\r\n  }\r\n}\r\n\r\n\r\ncontract RBAC {\r\n  using Roles for Roles.Role;\r\n\r\n  mapping (string => Roles.Role) private roles;\r\n\r\n  event RoleAdded(address addr, string roleName);\r\n  event RoleRemoved(address addr, string roleName);\r\n\r\n  /**\r\n   * @dev reverts if addr does not have role\r\n   * @param addr address\r\n   * @param roleName the name of the role\r\n   * // reverts\r\n   */\r\n  function checkRole(address addr, string roleName)\r\n    view\r\n    public\r\n  {\r\n    roles[roleName].check(addr);\r\n  }\r\n\r\n  /**\r\n   * @dev determine if addr has role\r\n   * @param addr address\r\n   * @param roleName the name of the role\r\n   * @return bool\r\n   */\r\n  function hasRole(address addr, string roleName)\r\n    view\r\n    public\r\n    returns (bool)\r\n  {\r\n    return roles[roleName].has(addr);\r\n  }\r\n\r\n  /**\r\n   * @dev add a role to an address\r\n   * @param addr address\r\n   * @param roleName the name of the role\r\n   */\r\n  function addRole(address addr, string roleName)\r\n    internal\r\n  {\r\n    roles[roleName].add(addr);\r\n    emit RoleAdded(addr, roleName);\r\n  }\r\n\r\n  /**\r\n   * @dev remove a role from an address\r\n   * @param addr address\r\n   * @param roleName the name of the role\r\n   */\r\n  function removeRole(address addr, string roleName)\r\n    internal\r\n  {\r\n    roles[roleName].remove(addr);\r\n    emit RoleRemoved(addr, roleName);\r\n  }\r\n\r\n  /**\r\n   * @dev modifier to scope access to a single role (uses msg.sender as addr)\r\n   * @param roleName the name of the role\r\n   * // reverts\r\n   */\r\n  modifier onlyRole(string roleName)\r\n  {\r\n    checkRole(msg.sender, roleName);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev modifier to scope access to a set of roles (uses msg.sender as addr)\r\n   * @param roleNames the names of the roles to scope access to\r\n   * // reverts\r\n   *\r\n   * @TODO - when solidity supports dynamic arrays as arguments to modifiers, provide this\r\n   *  see: https://github.com/ethereum/solidity/issues/2467\r\n   */\r\n  // modifier onlyRoles(string[] roleNames) {\r\n  //     bool hasAnyRole = false;\r\n  //     for (uint8 i = 0; i < roleNames.length; i++) {\r\n  //         if (hasRole(msg.sender, roleNames[i])) {\r\n  //             hasAnyRole = true;\r\n  //             break;\r\n  //         }\r\n  //     }\r\n\r\n  //     require(hasAnyRole);\r\n\r\n  //     _;\r\n  // }\r\n}\r\n\r\n\r\ncontract RBACWithAdmin is RBAC {\r\n  /**\r\n   * A constant role name for indicating admins.\r\n   */\r\n  string public constant ROLE_ADMIN = \"admin\";\r\n  string public constant ROLE_PAUSE_ADMIN = \"pauseAdmin\";\r\n\r\n  /**\r\n   * @dev modifier to scope access to admins\r\n   * // reverts\r\n   */\r\n  modifier onlyAdmin()\r\n  {\r\n    checkRole(msg.sender, ROLE_ADMIN);\r\n    _;\r\n  }\r\n  modifier onlyPauseAdmin()\r\n  {\r\n    checkRole(msg.sender, ROLE_PAUSE_ADMIN);\r\n    _;\r\n  }\r\n  /**\r\n   * @dev constructor. Sets msg.sender as admin by default\r\n   */\r\n  constructor()\r\n    public\r\n  {\r\n    addRole(msg.sender, ROLE_ADMIN);\r\n    addRole(msg.sender, ROLE_PAUSE_ADMIN);\r\n  }\r\n\r\n  /**\r\n   * @dev add a role to an address\r\n   * @param addr address\r\n   * @param roleName the name of the role\r\n   */\r\n  function adminAddRole(address addr, string roleName)\r\n    onlyAdmin\r\n    public\r\n  {\r\n    addRole(addr, roleName);\r\n  }\r\n\r\n  /**\r\n   * @dev remove a role from an address\r\n   * @param addr address\r\n   * @param roleName the name of the role\r\n   */\r\n  function adminRemoveRole(address addr, string roleName)\r\n    onlyAdmin\r\n    public\r\n  {\r\n    removeRole(addr, roleName);\r\n  }\r\n}\r\n\r\n\r\ncontract ERC721Basic {\r\n  event Transfer(address indexed _from, address indexed _to, uint256 _tokenId);\r\n  event Approval(address indexed _owner, address indexed _approved, uint256 _tokenId);\r\n  event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved);\r\n\r\n  function balanceOf(address _owner) public view returns (uint256 _balance);\r\n  function ownerOf(uint256 _tokenId) public view returns (address _owner);\r\n  function exists(uint256 _tokenId) public view returns (bool _exists);\r\n\r\n  function approve(address _to, uint256 _tokenId) public payable;\r\n  function getApproved(uint256 _tokenId) public view returns (address _operator);\r\n\r\n  function setApprovalForAll(address _operator, bool _approved) public;\r\n  function isApprovedForAll(address _owner, address _operator) public view returns (bool);\r\n\r\n  function transferFrom(address _from, address _to, uint256 _tokenId) public payable;\r\n  function safeTransferFrom(address _from, address _to, uint256 _tokenId) public payable;\r\n  function safeTransferFrom(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId,\r\n    bytes _data\r\n  )\r\n    public payable;\r\n}\r\n\r\n\r\ncontract ERC721Metadata is ERC721Basic {\r\n  function name() public view returns (string _name);\r\n  function symbol() public view returns (string _symbol);\r\n  function tokenURI(uint256 _tokenId) external view returns (string);\r\n}\r\n\r\n\r\ncontract ERC721BasicToken is ERC721Basic {\r\n  using SafeMath for uint256;\r\n  using AddressUtils for address;\r\n\r\n  // Equals to `bytes4(keccak256(\"onERC721Received(address,uint256,bytes)\"))`\r\n  // which can be also obtained as `ERC721Receiver(0).onERC721Received.selector`\r\n  bytes4 constant ERC721_RECEIVED = 0xf0b9e5ba;\r\n\r\n  // Mapping from token ID to owner\r\n  mapping (uint256 => address) internal tokenOwner;\r\n\r\n  // Mapping from token ID to approved address\r\n  mapping (uint256 => address) internal tokenApprovals;\r\n\r\n  // Mapping from owner to number of owned token\r\n  mapping (address => uint256) internal ownedTokensCount;\r\n\r\n  // Mapping from owner to operator approvals\r\n  mapping (address => mapping (address => bool)) internal operatorApprovals;\r\n\r\n  /**\r\n  * @dev Guarantees msg.sender is owner of the given token\r\n  * @param _tokenId uint256 ID of the token to validate its ownership belongs to msg.sender\r\n  */\r\n  modifier onlyOwnerOf(uint256 _tokenId) {\r\n    require(ownerOf(_tokenId) == msg.sender);\r\n    _;\r\n  }\r\n\r\n  /**\r\n  * @dev Checks msg.sender can transfer a token, by being owner, approved, or operator\r\n  * @param _tokenId uint256 ID of the token to validate\r\n  */\r\n  modifier canTransfer(uint256 _tokenId) {\r\n    require(isApprovedOrOwner(msg.sender, _tokenId));\r\n    _;\r\n  }\r\n\r\n  /**\r\n  * @dev Gets the balance of the specified address\r\n  * @param _owner address to query the balance of\r\n  * @return uint256 representing the amount owned by the passed address\r\n  */\r\n  function balanceOf(address _owner) public view returns (uint256) {\r\n    require(_owner != address(0));\r\n    return ownedTokensCount[_owner];\r\n  }\r\n\r\n  /**\r\n  * @dev Gets the owner of the specified token ID\r\n  * @param _tokenId uint256 ID of the token to query the owner of\r\n  * @return owner address currently marked as the owner of the given token ID\r\n  */\r\n  function ownerOf(uint256 _tokenId) public view returns (address) {\r\n    address owner = tokenOwner[_tokenId];\r\n    require(owner != address(0));\r\n    return owner;\r\n  }\r\n\r\n  /**\r\n  * @dev Returns whether the specified token exists\r\n  * @param _tokenId uint256 ID of the token to query the existance of\r\n  * @return whether the token exists\r\n  */\r\n  function exists(uint256 _tokenId) public view returns (bool) {\r\n    address owner = tokenOwner[_tokenId];\r\n    return owner != address(0);\r\n  }\r\n\r\n  /**\r\n  * @dev Approves another address to transfer the given token ID\r\n  * @dev The zero address indicates there is no approved address.\r\n  * @dev There can only be one approved address per token at a given time.\r\n  * @dev Can only be called by the token owner or an approved operator.\r\n  * @param _to address to be approved for the given token ID\r\n  * @param _tokenId uint256 ID of the token to be approved\r\n  */\r\n  function approve(address _to, uint256 _tokenId) public payable{\r\n    address owner = ownerOf(_tokenId);\r\n    require(_to != owner);\r\n    require(msg.sender == owner || isApprovedForAll(owner, msg.sender));\r\n\r\n    if (getApproved(_tokenId) != address(0) || _to != address(0)) {\r\n      tokenApprovals[_tokenId] = _to;\r\n        if (msg.value > 0 && _to != address(0))  _to.transfer(msg.value);\r\n        if (msg.value > 0 && _to == address(0))  owner.transfer(msg.value);\r\n        \r\n      emit Approval(owner, _to, _tokenId);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the approved address for a token ID, or zero if no address set\r\n   * @param _tokenId uint256 ID of the token to query the approval of\r\n   * @return address currently approved for a the given token ID\r\n   */\r\n  function getApproved(uint256 _tokenId) public view returns (address) {\r\n    return tokenApprovals[_tokenId];\r\n  }\r\n\r\n  /**\r\n  * @dev Sets or unsets the approval of a given operator\r\n  * @dev An operator is allowed to transfer all tokens of the sender on their behalf\r\n  * @param _to operator address to set the approval\r\n  * @param _approved representing the status of the approval to be set\r\n  */\r\n  function setApprovalForAll(address _to, bool _approved) public {\r\n    require(_to != msg.sender);\r\n    operatorApprovals[msg.sender][_to] = _approved;\r\n    emit ApprovalForAll(msg.sender, _to, _approved);\r\n  }\r\n\r\n  /**\r\n   * @dev Tells whether an operator is approved by a given owner\r\n   * @param _owner owner address which you want to query the approval of\r\n   * @param _operator operator address which you want to query the approval of\r\n   * @return bool whether the given operator is approved by the given owner\r\n   */\r\n  function isApprovedForAll(address _owner, address _operator) public view returns (bool) {\r\n    return operatorApprovals[_owner][_operator];\r\n  }\r\n\r\n  /**\r\n  * @dev Transfers the ownership of a given token ID to another address\r\n  * @dev Usage of this method is discouraged, use `safeTransferFrom` whenever possible\r\n  * @dev Requires the msg sender to be the owner, approved, or operator\r\n  * @param _from current owner of the token\r\n  * @param _to address to receive the ownership of the given token ID\r\n  * @param _tokenId uint256 ID of the token to be transferred\r\n  */\r\n  function transferFrom(address _from, address _to, uint256 _tokenId) public payable canTransfer(_tokenId) {\r\n    require(_from != address(0));\r\n    require(_to != address(0));\r\n\r\n    clearApproval(_from, _tokenId);\r\n    removeTokenFrom(_from, _tokenId);\r\n    addTokenTo(_to, _tokenId);\r\n    if (msg.value > 0) _to.transfer(msg.value);\r\n\r\n    emit Transfer(_from, _to, _tokenId);\r\n  }\r\n\r\n  /**\r\n  * @dev Safely transfers the ownership of a given token ID to another address\r\n  * @dev If the target address is a contract, it must implement `onERC721Received`,\r\n  *  which is called upon a safe transfer, and return the magic value\r\n  *  `bytes4(keccak256(\"onERC721Received(address,uint256,bytes)\"))`; otherwise,\r\n  *  the transfer is reverted.\r\n  * @dev Requires the msg sender to be the owner, approved, or operator\r\n  * @param _from current owner of the token\r\n  * @param _to address to receive the ownership of the given token ID\r\n  * @param _tokenId uint256 ID of the token to be transferred\r\n  */\r\n  function safeTransferFrom(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId\r\n  )\r\n    public\r\n    payable\r\n    canTransfer(_tokenId)\r\n  {\r\n    safeTransferFrom(_from, _to, _tokenId, \"\");\r\n  }\r\n\r\n  /**\r\n  * @dev Safely transfers the ownership of a given token ID to another address\r\n  * @dev If the target address is a contract, it must implement `onERC721Received`,\r\n  *  which is called upon a safe transfer, and return the magic value\r\n  *  `bytes4(keccak256(\"onERC721Received(address,uint256,bytes)\"))`; otherwise,\r\n  *  the transfer is reverted.\r\n  * @dev Requires the msg sender to be the owner, approved, or operator\r\n  * @param _from current owner of the token\r\n  * @param _to address to receive the ownership of the given token ID\r\n  * @param _tokenId uint256 ID of the token to be transferred\r\n  * @param _data bytes data to send along with a safe transfer check\r\n  */\r\n  function safeTransferFrom(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId,\r\n    bytes _data\r\n  )\r\n    public\r\n    payable\r\n    canTransfer(_tokenId)\r\n  {\r\n    transferFrom(_from, _to, _tokenId);\r\n    require(checkAndCallSafeTransfer(_from, _to, _tokenId, _data));\r\n  }\r\n\r\n  /**\r\n   * @dev Returns whether the given spender can transfer a given token ID\r\n   * @param _spender address of the spender to query\r\n   * @param _tokenId uint256 ID of the token to be transferred\r\n   * @return bool whether the msg.sender is approved for the given token ID,\r\n   *  is an operator of the owner, or is the owner of the token\r\n   */\r\n  function isApprovedOrOwner(address _spender, uint256 _tokenId) public view returns (bool) {\r\n    address owner = ownerOf(_tokenId);\r\n    return _spender == owner || getApproved(_tokenId) == _spender || isApprovedForAll(owner, _spender);\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to mint a new token\r\n  * @dev Reverts if the given token ID already exists\r\n  * @param _to The address that will own the minted token\r\n  * @param _tokenId uint256 ID of the token to be minted by the msg.sender\r\n  */\r\n  function _mint(address _to, uint256 _tokenId) internal {\r\n    require(_to != address(0));\r\n    addTokenTo(_to, _tokenId);\r\n    emit Transfer(address(0), _to, _tokenId);\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to burn a specific token\r\n  * @dev Reverts if the token does not exist\r\n  * @param _tokenId uint256 ID of the token being burned by the msg.sender\r\n  */\r\n  function _burn(address _owner, uint256 _tokenId) internal {\r\n    clearApproval(_owner, _tokenId);\r\n    removeTokenFrom(_owner, _tokenId);\r\n    emit Transfer(_owner, address(0), _tokenId);\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to clear current approval of a given token ID\r\n  * @dev Reverts if the given address is not indeed the owner of the token\r\n  * @param _owner owner of the token\r\n  * @param _tokenId uint256 ID of the token to be transferred\r\n  */\r\n  function clearApproval(address _owner, uint256 _tokenId) internal {\r\n    require(ownerOf(_tokenId) == _owner);\r\n    if (tokenApprovals[_tokenId] != address(0)) {\r\n      tokenApprovals[_tokenId] = address(0);\r\n      emit Approval(_owner, address(0), _tokenId);\r\n    }\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to add a token ID to the list of a given address\r\n  * @param _to address representing the new owner of the given token ID\r\n  * @param _tokenId uint256 ID of the token to be added to the tokens list of the given address\r\n  */\r\n  function addTokenTo(address _to, uint256 _tokenId) internal {\r\n    require(tokenOwner[_tokenId] == address(0));\r\n    tokenOwner[_tokenId] = _to;\r\n    ownedTokensCount[_to] = ownedTokensCount[_to].add(1);\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to remove a token ID from the list of a given address\r\n  * @param _from address representing the previous owner of the given token ID\r\n  * @param _tokenId uint256 ID of the token to be removed from the tokens list of the given address\r\n  */\r\n  function removeTokenFrom(address _from, uint256 _tokenId) internal {\r\n    require(ownerOf(_tokenId) == _from);\r\n    ownedTokensCount[_from] = ownedTokensCount[_from].sub(1);\r\n    tokenOwner[_tokenId] = address(0);\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to invoke `onERC721Received` on a target address\r\n  * @dev The call is not executed if the target address is not a contract\r\n  * @param _from address representing the previous owner of the given token ID\r\n  * @param _to target address that will receive the tokens\r\n  * @param _tokenId uint256 ID of the token to be transferred\r\n  * @param _data bytes optional data to send along with the call\r\n  * @return whether the call correctly returned the expected magic value\r\n  */\r\n  function checkAndCallSafeTransfer(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId,\r\n    bytes _data\r\n  )\r\n    internal\r\n    returns (bool)\r\n  {\r\n    if (!_to.isContract()) {\r\n      return true;\r\n    }\r\n    bytes4 retval = ERC721Receiver(_to).onERC721Received(_from, _tokenId, _data);\r\n    return (retval == ERC721_RECEIVED);\r\n  }\r\n}\r\n\r\n\r\ncontract ERC721Receiver {\r\n  /**\r\n   * @dev Magic value to be returned upon successful reception of an NFT\r\n   *  Equals to `bytes4(keccak256(\"onERC721Received(address,uint256,bytes)\"))`,\r\n   *  which can be also obtained as `ERC721Receiver(0).onERC721Received.selector`\r\n   */\r\n  bytes4 constant ERC721_RECEIVED = 0xf0b9e5ba;\r\n\r\n  /**\r\n   * @notice Handle the receipt of an NFT\r\n   * @dev The ERC721 smart contract calls this function on the recipient\r\n   *  after a `safetransfer`. This function MAY throw to revert and reject the\r\n   *  transfer. This function MUST use 50,000 gas or less. Return of other\r\n   *  than the magic value MUST result in the transaction being reverted.\r\n   *  Note: the contract address is always the message sender.\r\n   * @param _from The sending address\r\n   * @param _tokenId The NFT identifier which is being transfered\r\n   * @param _data Additional data with no specified format\r\n   * @return `bytes4(keccak256(\"onERC721Received(address,uint256,bytes)\"))`\r\n   */\r\n  function onERC721Received(address _from, uint256 _tokenId, bytes _data) public returns(bytes4);\r\n}\r\n\r\n\r\ncontract ERC721Enumerable is ERC721Basic {\r\n  function totalSupply() public view returns (uint256);\r\n  function tokenOfOwnerByIndex(address _owner, uint256 _index) public view returns (uint256 _tokenId);\r\n  function tokenByIndex(uint256 _index) public view returns (uint256);\r\n}\r\n\r\n\r\ncontract ERC721 is ERC721Basic, ERC721Enumerable, ERC721Metadata {\r\n}\r\n\r\n\r\ncontract ERC721Token is ERC721, ERC721BasicToken {\r\n  // Token name\r\n  string internal name_;\r\n\r\n  // Token symbol\r\n  string internal symbol_;\r\n\r\n  // Mapping from owner to list of owned token IDs\r\n  mapping (address => uint256[]) internal ownedTokens;\r\n\r\n  // Mapping from token ID to index of the owner tokens list\r\n  mapping(uint256 => uint256) internal ownedTokensIndex;\r\n\r\n  // Array with all token ids, used for enumeration\r\n  uint256[] internal allTokens;\r\n\r\n  // Mapping from token id to position in the allTokens array\r\n  mapping(uint256 => uint256) internal allTokensIndex;\r\n\r\n  // Optional mapping for token URIs\r\n  // mapping(uint256 => string) internal tokenURIs;\r\n\r\n  /**\r\n  * @dev Constructor function\r\n  */\r\n  constructor(string _name, string _symbol) public {\r\n    name_ = _name;\r\n    symbol_ = _symbol;\r\n  }\r\n\r\n  /**\r\n  * @dev Gets the token name\r\n  * @return string representing the token name\r\n  */\r\n  function name() public view returns (string) {\r\n    return name_;\r\n  }\r\n\r\n  /**\r\n  * @dev Gets the token symbol\r\n  * @return string representing the token symbol\r\n  */\r\n  function symbol() public view returns (string) {\r\n    return symbol_;\r\n  }\r\n\r\n  /**\r\n  * @dev Returns an URI for a given token ID\r\n  * @dev Throws if the token ID does not exist. May return an empty string.\r\n  * @param _tokenId uint256 ID of the token to query\r\n  */\r\n   bytes constant firstPartURI = \"https://www.dragonseth.com/image/\";\r\n    \r\n    function tokenURI(uint256  _tokenId) external view returns (string) {\r\n        require(exists(_tokenId));\r\n        bytes memory tmpBytes = new bytes(96);\r\n        uint256 i = 0;\r\n        uint256 tokenId = _tokenId;\r\n        // for same use case need \"if (tokenId == 0)\" \r\n        while (tokenId != 0) {\r\n            uint256 remainderDiv = tokenId % 10;\r\n            tokenId = tokenId / 10;\r\n            tmpBytes[i++] = byte(48 + remainderDiv);\r\n        }\r\n \r\n        bytes memory resaultBytes = new bytes(firstPartURI.length + i);\r\n        \r\n        for (uint256 j = 0; j < firstPartURI.length; j++) {\r\n            resaultBytes[j] = firstPartURI[j];\r\n        }\r\n        \r\n        i--;\r\n        \r\n        for (j = 0; j <= i; j++) {\r\n            resaultBytes[j + firstPartURI.length] = tmpBytes[i - j];\r\n        }\r\n        \r\n        return string(resaultBytes);\r\n        \r\n    }\r\n/*    \r\n  function tokenURI(uint256 _tokenId) public view returns (string) {\r\n    require(exists(_tokenId));\r\n    return tokenURIs[_tokenId];\r\n  }\r\n*/\r\n  /**\r\n  * @dev Gets the token ID at a given index of the tokens list of the requested owner\r\n  * @param _owner address owning the tokens list to be accessed\r\n  * @param _index uint256 representing the index to be accessed of the requested tokens list\r\n  * @return uint256 token ID at the given index of the tokens list owned by the requested address\r\n  */\r\n  function tokenOfOwnerByIndex(address _owner, uint256 _index) public view returns (uint256) {\r\n    require(_index < balanceOf(_owner));\r\n    return ownedTokens[_owner][_index];\r\n  }\r\n\r\n  /**\r\n  * @dev Gets the total amount of tokens stored by the contract\r\n  * @return uint256 representing the total amount of tokens\r\n  */\r\n  function totalSupply() public view returns (uint256) {\r\n    return allTokens.length;\r\n  }\r\n\r\n  /**\r\n  * @dev Gets the token ID at a given index of all the tokens in this contract\r\n  * @dev Reverts if the index is greater or equal to the total number of tokens\r\n  * @param _index uint256 representing the index to be accessed of the tokens list\r\n  * @return uint256 token ID at the given index of the tokens list\r\n  */\r\n  function tokenByIndex(uint256 _index) public view returns (uint256) {\r\n    require(_index < totalSupply());\r\n    return allTokens[_index];\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to set the token URI for a given token\r\n  * @dev Reverts if the token ID does not exist\r\n  * @param _tokenId uint256 ID of the token to set its URI\r\n  * @param _uri string URI to assign\r\n  */\r\n/*\r\n  function _setTokenURI(uint256 _tokenId, string _uri) internal {\r\n    require(exists(_tokenId));\r\n    tokenURIs[_tokenId] = _uri;\r\n  }\r\n*/\r\n  /**\r\n  * @dev Internal function to add a token ID to the list of a given address\r\n  * @param _to address representing the new owner of the given token ID\r\n  * @param _tokenId uint256 ID of the token to be added to the tokens list of the given address\r\n  */\r\n  function addTokenTo(address _to, uint256 _tokenId) internal {\r\n    super.addTokenTo(_to, _tokenId);\r\n    uint256 length = ownedTokens[_to].length;\r\n    ownedTokens[_to].push(_tokenId);\r\n    ownedTokensIndex[_tokenId] = length;\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to remove a token ID from the list of a given address\r\n  * @param _from address representing the previous owner of the given token ID\r\n  * @param _tokenId uint256 ID of the token to be removed from the tokens list of the given address\r\n  */\r\n  function removeTokenFrom(address _from, uint256 _tokenId) internal {\r\n    super.removeTokenFrom(_from, _tokenId);\r\n\r\n    uint256 tokenIndex = ownedTokensIndex[_tokenId];\r\n    uint256 lastTokenIndex = ownedTokens[_from].length.sub(1);\r\n    uint256 lastToken = ownedTokens[_from][lastTokenIndex];\r\n\r\n    ownedTokens[_from][tokenIndex] = lastToken;\r\n    ownedTokens[_from][lastTokenIndex] = 0;\r\n    // Note that this will handle single-element arrays. In that case, both tokenIndex and lastTokenIndex are going to\r\n    // be zero. Then we can make sure that we will remove _tokenId from the ownedTokens list since we are first swapping\r\n    // the lastToken to the first position, and then dropping the element placed in the last position of the list\r\n\r\n    ownedTokens[_from].length--;\r\n    ownedTokensIndex[_tokenId] = 0;\r\n    ownedTokensIndex[lastToken] = tokenIndex;\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to mint a new token\r\n  * @dev Reverts if the given token ID already exists\r\n  * @param _to address the beneficiary that will own the minted token\r\n  * @param _tokenId uint256 ID of the token to be minted by the msg.sender\r\n  */\r\n  function _mint(address _to, uint256 _tokenId) internal {\r\n    super._mint(_to, _tokenId);\r\n\r\n    allTokensIndex[_tokenId] = allTokens.length;\r\n    allTokens.push(_tokenId);\r\n  }\r\n\r\n  /**\r\n  * @dev Internal function to burn a specific token\r\n  * @dev Reverts if the token does not exist\r\n  * @param _owner owner of the token to burn\r\n  * @param _tokenId uint256 ID of the token being burned by the msg.sender\r\n  */\r\n  function _burn(address _owner, uint256 _tokenId) internal {\r\n    super._burn(_owner, _tokenId);\r\n\r\n    // Clear metadata (if any)\r\n/*    \r\n    if (bytes(tokenURIs[_tokenId]).length != 0) {\r\n      delete tokenURIs[_tokenId];\r\n    }\r\n*/\r\n    // Reorg all tokens array\r\n    uint256 tokenIndex = allTokensIndex[_tokenId];\r\n    uint256 lastTokenIndex = allTokens.length.sub(1);\r\n    uint256 lastToken = allTokens[lastTokenIndex];\r\n\r\n    allTokens[tokenIndex] = lastToken;\r\n    allTokens[lastTokenIndex] = 0;\r\n\r\n    allTokens.length--;\r\n    allTokensIndex[_tokenId] = 0;\r\n    allTokensIndex[lastToken] = tokenIndex;\r\n  }\r\n       /**\r\n  * @dev Gets the list of tokens owned by a given address\r\n  * @param _owner address to query the tokens of\r\n  * @return uint256[] representing the list of tokens owned by the passed address\r\n  */\r\n  function tokensOf(address _owner) external view returns (uint256[]) {\r\n    return ownedTokens[_owner];\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\ncontract DragonsETH_GC is RBACWithAdmin {\r\n    GenRNG public genRNGContractAddress;\r\n    FixMarketPlace public fmpContractAddress;\r\n    DragonStats public dragonsStatsContract;\r\n    Necropolis public necropolisContract;\r\n    Auction public auctionContract;\r\n    SuperContract public superContract;\r\n    DragonSelectFight2Death public selectFight2DeathContract;\r\n    DragonsRandomFight2Death public randomFight2DeathContract;\r\n    Mutagen2Face public mutagen2FaceContract;\r\n    \r\n    address wallet;\r\n    \r\n    uint8 adultDragonStage = 3;\r\n    bool stageThirdBegin = false;\r\n    uint256 constant UINT256_MAX = 115792089237316195423570985008687907853269984665640564039457584007913129639935;\r\n    uint256 public secondsInBlock = 15;\r\n    uint256 public priceDecraseTime2Action = 0.000005 ether; //  1 block\r\n    uint256 public priceRandomFight2Death = 0.02 ether;\r\n    uint256 public priceSelectFight2Death = 0.03 ether;\r\n    uint256 public priceChangeName = 0.01 ether;\r\n    uint256 public needFightToAdult = 100;\r\n    \r\n    function changeGenRNGcontractAddress(address _genRNGContractAddress) external onlyAdmin {\r\n        genRNGContractAddress = GenRNG(_genRNGContractAddress);\r\n    }\r\n\r\n    function changeFMPcontractAddress(address _fmpContractAddress) external onlyAdmin {\r\n        fmpContractAddress = FixMarketPlace(_fmpContractAddress);\r\n    }\r\n\r\n    function changeDragonsStatsContract(address _dragonsStatsContract) external onlyAdmin {\r\n        dragonsStatsContract = DragonStats(_dragonsStatsContract);\r\n    }\r\n\r\n    function changeAuctionContract(address _auctionContract) external onlyAdmin {\r\n        auctionContract = Auction(_auctionContract);\r\n    }\r\n\r\n    function changeSelectFight2DeathContract(address _selectFight2DeathContract) external onlyAdmin {\r\n        selectFight2DeathContract = DragonSelectFight2Death(_selectFight2DeathContract);\r\n    }\r\n\r\n    function changeRandomFight2DeathContract(address _randomFight2DeathContract) external onlyAdmin {\r\n        randomFight2DeathContract = DragonsRandomFight2Death(_randomFight2DeathContract);\r\n    }\r\n\r\n    function changeMutagen2FaceContract(address _mutagen2FaceContract) external onlyAdmin {\r\n        mutagen2FaceContract = Mutagen2Face(_mutagen2FaceContract);\r\n    }\r\n\r\n    function changeSuperContract(address _superContract) external onlyAdmin {\r\n        superContract = SuperContract(_superContract);\r\n    }\r\n\r\n    function changeWallet(address _wallet) external onlyAdmin {\r\n        wallet = _wallet;\r\n    }\r\n\r\n    function changePriceDecraseTime2Action(uint256 _priceDecraseTime2Action) external onlyAdmin {\r\n        priceDecraseTime2Action = _priceDecraseTime2Action;\r\n    }\r\n\r\n    function changePriceRandomFight2Death(uint256 _priceRandomFight2Death) external onlyAdmin {\r\n        priceRandomFight2Death = _priceRandomFight2Death;\r\n    }\r\n\r\n    function changePriceSelectFight2Death(uint256 _priceSelectFight2Death) external onlyAdmin {\r\n        priceSelectFight2Death = _priceSelectFight2Death;\r\n    }\r\n\r\n    function changePriceChangeName(uint256 _priceChangeName) external onlyAdmin {\r\n        priceChangeName = _priceChangeName;\r\n    }\r\n\r\n    function changeSecondsInBlock(uint256 _secondsInBlock) external onlyAdmin {\r\n        secondsInBlock = _secondsInBlock;\r\n    }\r\n    function changeNeedFightToAdult(uint256 _needFightToAdult) external onlyAdmin {\r\n        needFightToAdult = _needFightToAdult;\r\n    }\r\n\r\n    function changeAdultDragonStage(uint8 _adultDragonStage) external onlyAdmin {\r\n        adultDragonStage = _adultDragonStage;\r\n    }\r\n\r\n    function setStageThirdBegin() external onlyAdmin {\r\n        stageThirdBegin = true;\r\n    }\r\n\r\n    function withdrawAllEther() external onlyAdmin {\r\n        require(wallet != 0);\r\n        wallet.transfer(address(this).balance);\r\n    }\r\n    \r\n    // EIP-165 and EIP-721\r\n    bytes4 constant ERC165_Signature = 0x01ffc9a7;\r\n    bytes4 constant ERC721_Signature = 0x80ac58cd;\r\n    bytes4 constant ERC721Metadata_Signature = 0x5b5e139f;\r\n    bytes4 constant ERC721Enumerable_Signature = 0x780e9d63;\r\n    \r\n    function supportsInterface(bytes4 _interfaceID) external pure returns (bool) {\r\n        return (\r\n            (_interfaceID == ERC165_Signature) || \r\n            (_interfaceID == ERC721_Signature) || \r\n            (_interfaceID == ERC721Metadata_Signature) || \r\n            (_interfaceID == ERC721Enumerable_Signature)\r\n        );\r\n    }\r\n}\r\n\r\n\r\ncontract ReentrancyGuard {\r\n\r\n  /**\r\n   * @dev We use a single lock for the whole contract.\r\n   */\r\n  bool private reentrancyLock = false;\r\n\r\n  /**\r\n   * @dev Prevents a contract from calling itself, directly or indirectly.\r\n   * @notice If you mark a function `nonReentrant`, you should also\r\n   * mark it `external`. Calling one nonReentrant function from\r\n   * another is not supported. Instead, you can implement a\r\n   * `private` function doing the actual work, and a `external`\r\n   * wrapper marked as `nonReentrant`.\r\n   */\r\n  modifier nonReentrant() {\r\n    require(!reentrancyLock);\r\n    reentrancyLock = true;\r\n    _;\r\n    reentrancyLock = false;\r\n  }\r\n\r\n}\r\n\r\n\r\ncontract DragonsETH is ERC721Token(\"DragonsETH.com Dragon\", \"DragonsETH\"), DragonsETH_GC, ReentrancyGuard {\r\n    uint256 public totalDragons;\r\n    uint256 public liveDragons;\r\n    struct Dragon {\r\n        uint256 gen1;\r\n        uint8 stage; // 0 - Dead, 1 - Egg, 2 - Young Dragon ... \r\n        uint8 currentAction;\r\n        // 0 - free, 1 - fight place, 2 - random fight, 3 - breed market, 4 - breed auction, 5 - random breed ... 0xFF - Necropolis\r\n        uint240 gen2;\r\n        uint256 nextBlock2Action;\r\n    }\r\n\r\n    Dragon[] public dragons;\r\n    mapping(uint256 => string) public dragonName;\r\n    \r\n   \r\n    constructor(address _wallet, address _necropolisContract, address _dragonsStatsContract) public {\r\n        \r\n        _mint(msg.sender, 0);\r\n        Dragon memory _dragon = Dragon({\r\n            gen1: 0,\r\n            stage: 0,\r\n            currentAction: 0,\r\n            gen2: 0,\r\n            nextBlock2Action: UINT256_MAX\r\n        });\r\n        dragons.push(_dragon);\r\n        transferFrom(msg.sender, _necropolisContract, 0);\r\n        dragonsStatsContract = DragonStats(_dragonsStatsContract);\r\n        necropolisContract = Necropolis(_necropolisContract);\r\n        wallet = _wallet;\r\n    }\r\n   \r\n    function add2MarketPlace(uint256 _dragonID, uint256 _dragonPrice, uint256 _endBlockNumber) external canTransfer(_dragonID)  {\r\n        require(dragons[_dragonID].stage != 0); // dragon not dead\r\n        if (dragons[_dragonID].stage >= 2) {\r\n            checkDragonStatus(_dragonID, 2);\r\n        }\r\n        address dragonOwner = ownerOf(_dragonID);\r\n        if (fmpContractAddress.add2MarketPlace(dragonOwner, _dragonID, _dragonPrice, _endBlockNumber)) {\r\n            transferFrom(dragonOwner, fmpContractAddress, _dragonID);\r\n        }\r\n    }\r\n\r\n    function add2Auction(\r\n        uint256 _dragonID, \r\n        uint256 _startPrice, \r\n        uint256 _step, \r\n        uint256 _endPrice, \r\n        uint256 _endBlockNumber\r\n    ) \r\n        external \r\n        canTransfer(_dragonID) \r\n    {\r\n        require(dragons[_dragonID].stage != 0); // dragon not dead\r\n        if (dragons[_dragonID].stage >= 2) {\r\n            checkDragonStatus(_dragonID, 2);\r\n        }\r\n        address dragonOwner = ownerOf(_dragonID);\r\n        if (auctionContract.add2Auction(dragonOwner, _dragonID, _startPrice, _step, _endPrice, _endBlockNumber)) {\r\n            transferFrom(dragonOwner, auctionContract, _dragonID);\r\n        }\r\n    }\r\n    \r\n    function addRandomFight2Death(uint256 _dragonID) external payable nonReentrant canTransfer(_dragonID)   {\r\n        checkDragonStatus(_dragonID, adultDragonStage);\r\n        if (priceRandomFight2Death > 0) {\r\n            require(msg.value >= priceRandomFight2Death);\r\n            wallet.transfer(priceRandomFight2Death);\r\n            if (msg.value - priceRandomFight2Death > 0) \r\n                msg.sender.transfer(msg.value - priceRandomFight2Death);\r\n        } else {\r\n            if (msg.value > 0) \r\n                msg.sender.transfer(msg.value);\r\n        }\r\n        address dragonOwner = ownerOf(_dragonID);\r\n        transferFrom(dragonOwner, randomFight2DeathContract, _dragonID);\r\n        randomFight2DeathContract.addRandomFight2Death(dragonOwner, _dragonID);\r\n    }\r\n    \r\n    function addSelctFight2Death(uint256 _yourDragonID, uint256 _oppDragonID, uint256 _endBlockNumber) \r\n        external \r\n        payable \r\n        nonReentrant \r\n        canTransfer(_yourDragonID) \r\n    {\r\n        checkDragonStatus(_yourDragonID, adultDragonStage);\r\n        if (priceSelectFight2Death > 0) {\r\n            require(msg.value >= priceSelectFight2Death);\r\n            address(selectFight2DeathContract).transfer(priceSelectFight2Death);\r\n            if (msg.value - priceSelectFight2Death > 0) msg.sender.transfer(msg.value - priceSelectFight2Death);\r\n        } else {\r\n            if (msg.value > 0) \r\n                msg.sender.transfer(msg.value);\r\n        }\r\n        address dragonOwner = ownerOf(_yourDragonID);\r\n        transferFrom(dragonOwner, selectFight2DeathContract, _yourDragonID);\r\n        selectFight2DeathContract.addSelctFight2Death(dragonOwner, _yourDragonID, _oppDragonID, _endBlockNumber, priceSelectFight2Death);\r\n        \r\n    }\r\n    \r\n    function mutagen2Face(uint256 _dragonID, uint256 _mutagenCount) external canTransfer(_dragonID)   {\r\n        checkDragonStatus(_dragonID, 2);\r\n        address dragonOwner = ownerOf(_dragonID);\r\n        transferFrom(dragonOwner, mutagen2FaceContract, _dragonID);\r\n        mutagen2FaceContract.addDragon(dragonOwner, _dragonID, _mutagenCount);\r\n    }\r\n\r\n    function createDragon(\r\n        address _to, \r\n        uint256 _timeToBorn, \r\n        uint256 _parentOne, \r\n        uint256 _parentTwo, \r\n        uint256 _gen1, \r\n        uint240 _gen2\r\n    ) \r\n        external \r\n        onlyRole(\"CreateContract\") \r\n    {\r\n        totalDragons++;\r\n        liveDragons++;\r\n        _mint(_to, totalDragons);\r\n        uint256[2] memory twoGen;\r\n        if (_parentOne == 0 && _parentTwo == 0 && _gen1 == 0 && _gen2 == 0) {\r\n            twoGen = genRNGContractAddress.getNewGens(_to, totalDragons);\r\n        } else {\r\n            twoGen[0] = _gen1;\r\n            twoGen[1] = uint256(_gen2);\r\n        }\r\n        Dragon memory _dragon = Dragon({\r\n            gen1: twoGen[0],\r\n            stage: 1,\r\n            currentAction: 0,\r\n            gen2: uint240(twoGen[1]),\r\n            nextBlock2Action: _timeToBorn \r\n        });\r\n        dragons.push(_dragon);\r\n        if (_parentOne != 0) {\r\n            dragonsStatsContract.setParents(totalDragons,_parentOne,_parentTwo);\r\n            dragonsStatsContract.incChildren(_parentOne);\r\n            dragonsStatsContract.incChildren(_parentTwo);\r\n        }\r\n        dragonsStatsContract.setBirthBlock(totalDragons);\r\n    }\r\n    \r\n    function changeDragonGen(uint256 _dragonID, uint256 _gen, uint8 _which) external onlyRole(\"ChangeContract\") {\r\n        require(dragons[_dragonID].stage >= 2); // dragon not dead and not egg\r\n        if (_which == 0) {\r\n            dragons[_dragonID].gen1 = _gen;\r\n        } else {\r\n            dragons[_dragonID].gen2 = uint240(_gen);\r\n        }\r\n    }\r\n    \r\n    function birthDragon(uint256 _dragonID) external canTransfer(_dragonID) {\r\n        require(dragons[_dragonID].stage != 0); // dragon not dead\r\n        require(dragons[_dragonID].nextBlock2Action <= block.number);\r\n        dragons[_dragonID].stage = 2;\r\n    }\r\n    \r\n    function matureDragon(uint256 _dragonID) external canTransfer(_dragonID) {\r\n        require(stageThirdBegin);\r\n        checkDragonStatus(_dragonID, 2);\r\n        require(dragonsStatsContract.getDragonFight(_dragonID) >= needFightToAdult);\r\n        dragons[_dragonID].stage = 3;\r\n        \r\n    }\r\n    \r\n    function superDragon(uint256 _dragonID) external canTransfer(_dragonID) {\r\n        checkDragonStatus(_dragonID, 3);\r\n        require(superContract.checkDragon(_dragonID));\r\n        dragons[_dragonID].stage = 4;\r\n    }\r\n    \r\n    function killDragon(uint256 _dragonID) external onlyOwnerOf(_dragonID) {\r\n        checkDragonStatus(_dragonID, 2);\r\n        dragons[_dragonID].stage = 0;\r\n        dragons[_dragonID].currentAction = 0xFF;\r\n        dragons[_dragonID].nextBlock2Action = UINT256_MAX;\r\n        necropolisContract.addDragon(ownerOf(_dragonID), _dragonID, 1);\r\n        transferFrom(ownerOf(_dragonID), necropolisContract, _dragonID);\r\n        dragonsStatsContract.setDeathBlock(_dragonID);\r\n        liveDragons--;\r\n    }\r\n    \r\n    function killDragonDeathContract(address _lastOwner, uint256 _dragonID, uint256 _deathReason) \r\n        external \r\n        canTransfer(_dragonID) \r\n        onlyRole(\"DeathContract\") \r\n    {\r\n        checkDragonStatus(_dragonID, 2);\r\n        dragons[_dragonID].stage = 0;\r\n        dragons[_dragonID].currentAction = 0xFF;\r\n        dragons[_dragonID].nextBlock2Action = UINT256_MAX;\r\n        necropolisContract.addDragon(_lastOwner, _dragonID, _deathReason);\r\n        transferFrom(ownerOf(_dragonID), necropolisContract, _dragonID);\r\n        dragonsStatsContract.setDeathBlock(_dragonID);\r\n        liveDragons--;\r\n        \r\n    }\r\n    \r\n    function decraseTimeToAction(uint256 _dragonID) external payable nonReentrant canTransfer(_dragonID) {\r\n        require(dragons[_dragonID].stage != 0); // dragon not dead\r\n        require(msg.value >= priceDecraseTime2Action);\r\n        require(dragons[_dragonID].nextBlock2Action > block.number);\r\n        uint256 maxBlockCount = dragons[_dragonID].nextBlock2Action - block.number;\r\n        if (msg.value > maxBlockCount * priceDecraseTime2Action) {\r\n            msg.sender.transfer(msg.value - maxBlockCount * priceDecraseTime2Action);\r\n            wallet.transfer(maxBlockCount * priceDecraseTime2Action);\r\n            dragons[_dragonID].nextBlock2Action = 0;\r\n        } else {\r\n            if (priceDecraseTime2Action == 0) {\r\n                dragons[_dragonID].nextBlock2Action = 0;\r\n            } else {\r\n                wallet.transfer(msg.value);\r\n                dragons[_dragonID].nextBlock2Action = dragons[_dragonID].nextBlock2Action - msg.value / priceDecraseTime2Action - 1;\r\n            }\r\n        }\r\n        \r\n    }\r\n    \r\n    function addDragonName(uint256 _dragonID,string _newName) external payable nonReentrant canTransfer(_dragonID) {\r\n        checkDragonStatus(_dragonID, 2);\r\n        if (bytes(dragonName[_dragonID]).length == 0) {\r\n            dragonName[_dragonID] = _newName;\r\n            if (msg.value > 0) \r\n                msg.sender.transfer(msg.value);\r\n        } else {\r\n            if (priceChangeName == 0) {\r\n                dragonName[_dragonID] = _newName;\r\n                if (msg.value > 0) \r\n                    msg.sender.transfer(msg.value);\r\n            } else {\r\n                require(msg.value >= priceChangeName);\r\n                wallet.transfer(priceChangeName);\r\n                if (msg.value - priceChangeName > 0) \r\n                    msg.sender.transfer(msg.value - priceChangeName);\r\n                dragonName[_dragonID] = _newName;\r\n            }\r\n        }\r\n    }\r\n    \r\n    function checkDragonStatus(uint256 _dragonID, uint8 _stage) public view {\r\n        require(dragons[_dragonID].stage != 0); // dragon not dead\r\n        // dragon not in action and not in rest  and not egg\r\n        require(\r\n            dragons[_dragonID].nextBlock2Action <= block.number && \r\n            dragons[_dragonID].currentAction == 0 && \r\n            dragons[_dragonID].stage >= _stage\r\n        );\r\n    }\r\n    \r\n    function setCurrentAction(uint256 _dragonID, uint8 _currentAction) external onlyRole(\"ActionContract\") {\r\n        dragons[_dragonID].currentAction = _currentAction;\r\n    }\r\n    \r\n    function setTime2Rest(uint256 _dragonID, uint256 _addNextBlock2Action) external onlyRole(\"ActionContract\") {\r\n        dragons[_dragonID].nextBlock2Action = block.number + _addNextBlock2Action;\r\n    }\r\n}", "OptimizationUsed": "1", "ContractName": "DragonsETH", "ByteCode": "0x6080604052600436106103805763ffffffff60e060020a600035041662046c1f811461038557806301ffc9a7146103ac57806306fdde03146103e2578063081812fc1461046c578063095ea7b3146104a05780630988ca8c146104b95780630ab8afac146105205780630cef9a27146105355780630dfb0297146105535780630fda890e1461056b5780630fe4ea721461058c5780631023d597146105b35780631180f83b146105c857806318160ddd146105e95780631dec7f30146105fe578063217fe6c61461061657806323b872dd1461067d57806324d891711461069a5780632ce20579146106b25780632f745c59146106cd57806331c91117146106f1578063398f0970146107065780633f07618d1461071b5780634014c1c71461075457806342842e0e14610775578063430c208114610792578063472457cb146107b657806347492352146107cd5780634aeda70d146107e25780634f558e79146108035780634f6ccce71461081b578063505a202b1461083357806351cb6ecd1461084857806354b498591461085357806356c11ba31461086857806357f325911461087d5780635a3f2672146108955780635d088fc6146109065780635fb0ac1814610927578063605a42db1461093f578063631d3f3b14610957578063633de6aa1461096c5780636352211e1461098757806363f5679e1461099f5780636a2ddfce146109c057806370a08231146109d55780638527c3b0146109f657806388cee87e14610a0e5780638a2bfdf214610a755780638cb18ef614610a995780638e416b9b14610aae5780638f7445e614610ac35780639419f17c14610ad8578063950311ab14610ae357806395d89b4114610b0157806397df8a5014610b1657806398b9a2dc14610b37578063a22cb46514610b58578063a9b2ca9c14610b7e578063b04fc4e114610b9f578063b25fa92c14610bb4578063b373a61c14610c1b578063b40e415e14610c30578063b6a7940914610c45578063b88d4fde14610c5a578063ba35c0be14610cbc578063ba4d573f14610cdd578063bda7753114610cee578063c87b56dd14610d09578063ce3b047514610d21578063d2a59d6914610d39578063d33e1a4814610d8b578063d391014b14610da0578063d5f17df214610db5578063d80d9c5514610dca578063e0470e0214610de2578063e823fa2014610dfa578063e985e9c514610e18578063fd5a60e114610e3f575b600080fd5b34801561039157600080fd5b5061039a610e57565b60408051918252519081900360200190f35b3480156103b857600080fd5b506103ce600160e060020a031960043516610e5d565b604080519115158252519081900360200190f35b3480156103ee57600080fd5b506103f7610f2e565b6040805160208082528351818301528351919283929083019185019080838360005b83811015610431578181015183820152602001610419565b50505050905090810190601f16801561045e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561047857600080fd5b50610484600435610fc5565b60408051600160a060020a039092168252519081900360200190f35b6104b7600160a060020a0360043516602435610fe0565b005b3480156104c557600080fd5b5060408051602060046024803582810135601f81018590048502860185019096528585526104b7958335600160a060020a03169536956044949193909101919081908401838280828437509497506111819650505050505050565b34801561052c57600080fd5b506104846111ef565b34801561054157600080fd5b506104b76004356024356044356111fe565b34801561055f57600080fd5b506104b7600435611356565b34801561057757600080fd5b506104b7600160a060020a0360043516611385565b34801561059857600080fd5b506104b7600160a060020a03600435166024356044356113d1565b3480156105bf57600080fd5b5061039a6115f7565b3480156105d457600080fd5b506104b7600160a060020a03600435166115fd565b3480156105f557600080fd5b5061039a611649565b34801561060a57600080fd5b506103f760043561164f565b34801561062257600080fd5b5060408051602060046024803582810135601f81018590048502860185019096528585526103ce958335600160a060020a03169536956044949193909101919081908401838280828437509497506116e89650505050505050565b6104b7600160a060020a036004358116906024351660443561175b565b3480156106a657600080fd5b506104b760043561184a565b3480156106be57600080fd5b506104b7600435602435611879565b3480156106d957600080fd5b5061039a600160a060020a0360043516602435611953565b3480156106fd57600080fd5b506104b76119a0565b34801561071257600080fd5b5061039a611a1f565b34801561072757600080fd5b506104b7600160a060020a0360043516602435604435606435608435600160f060020a0360a43516611a25565b34801561076057600080fd5b506104b7600160a060020a0360043516611ea3565b6104b7600160a060020a0360043581169060243516604435611eef565b34801561079e57600080fd5b506103ce600160a060020a0360043516602435611f27565b6104b7600480359060248035908101910135611f86565b3480156107d957600080fd5b506103f761212c565b3480156107ee57600080fd5b506104b7600160a060020a0360043516612163565b34801561080f57600080fd5b506103ce6004356121af565b34801561082757600080fd5b5061039a6004356121cc565b34801561083f57600080fd5b5061039a612201565b6104b7600435612207565b34801561085f57600080fd5b50610484612403565b34801561087457600080fd5b5061039a612412565b34801561088957600080fd5b506104b7600435612418565b3480156108a157600080fd5b506108b6600160a060020a0360043516612447565b60408051602080825283518183015283519192839290830191858101910280838360005b838110156108f25781810151838201526020016108da565b505050509050019250505060405180910390f35b34801561091257600080fd5b506104b7600160a060020a03600435166124b3565b34801561093357600080fd5b506104b76004356124ff565b34801561094b57600080fd5b506104b76004356125b2565b34801561096357600080fd5b5061039a612682565b34801561097857600080fd5b506104b7600435602435612688565b34801561099357600080fd5b506104846004356126f2565b3480156109ab57600080fd5b506104b7600160a060020a0360043516612716565b3480156109cc57600080fd5b50610484612762565b3480156109e157600080fd5b5061039a600160a060020a0360043516612771565b348015610a0257600080fd5b506104b76004356127a4565b348015610a1a57600080fd5b5060408051602060046024803582810135601f81018590048502860185019096528585526104b7958335600160a060020a03169536956044949193909101919081908401838280828437509497506127d39650505050505050565b348015610a8157600080fd5b506104b7600435602435604435606435608435612807565b348015610aa557600080fd5b5061039a61296f565b348015610aba57600080fd5b50610484612975565b348015610acf57600080fd5b506104b7612984565b6104b76004356129e7565b348015610aef57600080fd5b506104b760043560ff60243516612c1c565b348015610b0d57600080fd5b506103f7612c98565b348015610b2257600080fd5b506104b7600160a060020a0360043516612cf9565b348015610b4357600080fd5b506104b7600160a060020a0360043516612d45565b348015610b6457600080fd5b506104b7600160a060020a03600435166024351515612d91565b348015610b8a57600080fd5b506104b760043560243560ff60443516612e20565b348015610bab57600080fd5b50610484612f0c565b348015610bc057600080fd5b5060408051602060046024803582810135601f81018590048502860185019096528585526104b7958335600160a060020a0316953695604494919390910191908190840183828082843750949750612f1b9650505050505050565b348015610c2757600080fd5b5061039a612f4f565b348015610c3c57600080fd5b50610484612f55565b348015610c5157600080fd5b50610484612f64565b604080516020601f6064356004818101359283018490048402850184019095528184526104b794600160a060020a038135811695602480359092169560443595369560849401918190840183828082843750949750612f739650505050505050565b348015610cc857600080fd5b506104b7600160a060020a0360043516612fab565b6104b7600435602435604435612ff7565b348015610cfa57600080fd5b506104b760ff6004351661320e565b348015610d1557600080fd5b506103f760043561327a565b348015610d2d57600080fd5b506104b7600435613518565b348015610d4557600080fd5b50610d51600435613547565b6040805195865260ff94851660208701529290931684830152600160f060020a031660608401526080830191909152519081900360a00190f35b348015610d9757600080fd5b50610484613598565b348015610dac57600080fd5b506103f76135a7565b348015610dc157600080fd5b506104846135c9565b348015610dd657600080fd5b506104b76004356135d8565b348015610dee57600080fd5b506104b7600435613607565b348015610e0657600080fd5b506104b760043560ff60243516613704565b348015610e2457600080fd5b506103ce600160a060020a03600435811690602435166137ca565b348015610e4b57600080fd5b506104b76004356137f8565b601c5481565b6000600160e060020a031982167f01ffc9a7000000000000000000000000000000000000000000000000000000001480610ec05750600160e060020a031982167f80ac58cd00000000000000000000000000000000000000000000000000000000145b80610ef45750600160e060020a031982167f5b5e139f00000000000000000000000000000000000000000000000000000000145b80610f285750600160e060020a031982167f780e9d6300000000000000000000000000000000000000000000000000000000145b92915050565b60048054604080516020601f6002600019610100600188161502019095169490940493840181900481028201810190925282815260609390929091830182828015610fba5780601f10610f8f57610100808354040283529160200191610fba565b820191906000526020600020905b815481529060010190602001808311610f9d57829003601f168201915b505050505090505b90565b600090815260016020526040902054600160a060020a031690565b6000610feb826126f2565b9050600160a060020a03838116908216141561100657600080fd5b80600160a060020a031633600160a060020a0316148061102b575061102b81336137ca565b151561103657600080fd5b600061104183610fc5565b600160a060020a031614158061105f5750600160a060020a03831615155b1561117c5760008281526001602052604081208054600160a060020a031916600160a060020a038616179055341180156110a15750600160a060020a03831615155b156110dd57604051600160a060020a038416903480156108fc02916000818181858888f193505050501580156110db573d6000803e3d6000fd5b505b6000341180156110f45750600160a060020a038316155b1561113057604051600160a060020a038216903480156108fc02916000818181858888f1935050505015801561112e573d6000803e3d6000fd5b505b82600160a060020a031681600160a060020a03167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040518082815260200191505060405180910390a35b505050565b6111eb82600a836040518082805190602001908083835b602083106111b75780518252601f199092019160209182019101611198565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220929150506139e7565b5050565b600f54600160a060020a031681565b60008361120b3382611f27565b151561121657600080fd5b601e80548690811061122457fe5b600091825260209091206001600390920201015460ff16151561124657600080fd5b6002601e8681548110151561125757fe5b600091825260209091206001600390920201015460ff161061127e5761127e856002613704565b611287856126f2565b600c54604080517f11da9598000000000000000000000000000000000000000000000000000000008152600160a060020a038085166004830152602482018a9052604482018990526064820188905291519395509116916311da9598916084808201926020929091908290030181600087803b15801561130657600080fd5b505af115801561131a573d6000803e3d6000fd5b505050506040513d602081101561133057600080fd5b50511561134f57600c5461134f908390600160a060020a03168761175b565b5050505050565b6113803360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b601855565b6113af3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b600b8054600160a060020a031916600160a060020a0392909216919091179055565b816113dc3382611f27565b15156113e757600080fd5b60408051808201909152600d81527f4465617468436f6e74726163740000000000000000000000000000000000000060208201526114253382611181565b611430846002613704565b6000601e8581548110151561144157fe5b60009182526020909120600390910201600101805460ff191660ff928316179055601e80548690811061147057fe5b906000526020600020906003020160010160016101000a81548160ff021916908360ff160217905550600019601e858154811015156114ab57fe5b60009182526020822060026003909202010191909155600e54604080517fad4e2f77000000000000000000000000000000000000000000000000000000008152600160a060020a03898116600483015260248201899052604482018890529151919092169263ad4e2f77926064808201939182900301818387803b15801561153257600080fd5b505af1158015611546573d6000803e3d6000fd5b50505050611568611556856126f2565b600e54600160a060020a03168661175b565b600d54604080517ff5ef98ea000000000000000000000000000000000000000000000000000000008152600481018790529051600160a060020a039092169163f5ef98ea9160248082019260009290919082900301818387803b1580156115ce57600080fd5b505af11580156115e2573d6000803e3d6000fd5b5050601d805460001901905550505050505050565b60165481565b6116273360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b600c8054600160a060020a031916600160a060020a0392909216919091179055565b60085490565b601f60208181526000928352604092839020805484516002600019610100600185161502019092169190910493840183900483028101830190945282845291908301828280156116e05780601f106116b5576101008083540402835291602001916116e0565b820191906000526020600020905b8154815290600101906020018083116116c357829003601f168201915b505050505081565b600061175483600a846040518082805190602001908083835b602083106117205780518252601f199092019160209182019101611701565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220929150506139ed565b9392505050565b806117663382611f27565b151561177157600080fd5b600160a060020a038416151561178657600080fd5b600160a060020a038316151561179b57600080fd5b6117a58483613a0c565b6117af8483613aac565b6117b98383613be5565b60003411156117f957604051600160a060020a038416903480156108fc02916000818181858888f193505050501580156117f7573d6000803e3d6000fd5b505b82600160a060020a031684600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040518082815260200191505060405180910390a350505050565b6118743360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b601a55565b6000826118863382611f27565b151561189157600080fd5b61189c846002613704565b6118a5846126f2565b6013549092506118c0908390600160a060020a03168661175b565b601354604080517fad4e2f77000000000000000000000000000000000000000000000000000000008152600160a060020a03858116600483015260248201889052604482018790529151919092169163ad4e2f7791606480830192600092919082900301818387803b15801561193557600080fd5b505af1158015611949573d6000803e3d6000fd5b5050505050505050565b600061195e83612771565b821061196957600080fd5b600160a060020a038316600090815260066020526040902080548390811061198d57fe5b9060005260206000200154905092915050565b6119ca3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b601454600160a060020a031615156119e157600080fd5b601454604051600160a060020a039182169130163180156108fc02916000818181858888f19350505050158015611a1c573d6000803e3d6000fd5b50565b60155481565b611a2d6141b5565b611a356141d0565b60408051808201909152600e81527f437265617465436f6e74726163740000000000000000000000000000000000006020820152611a733382611181565b601c8054600190810191829055601d80549091019055611a94908a90613c2e565b86158015611aa0575085155b8015611aaa575084155b8015611abd5750600160f060020a038416155b15611b7257600b54601c54604080517f4ae3164d000000000000000000000000000000000000000000000000000000008152600160a060020a038d81166004830152602482019390935281519290931692634ae3164d92604480830193928290030181600087803b158015611b3157600080fd5b505af1158015611b45573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052506040811015611b6a57600080fd5b509250611b85565b848352600160f060020a03841660208401525b6040805160a0810182528451815260016020808301828152600094840185815291880151600160f060020a0390811660608601908152608086018f8152601e80549687018155909752855160039095027f50bb669a95c7b50b7e8a6f09454034b2b14cf2b85c730dca9a539ca82cb6e35081019590955591517f50bb669a95c7b50b7e8a6f09454034b2b14cf2b85c730dca9a539ca82cb6e3518501805494519351909216620100000261ffff60ff9485166101000261ff00199590931660ff199096169590951793909316179290921617905591517f50bb669a95c7b50b7e8a6f09454034b2b14cf2b85c730dca9a539ca82cb6e3529092019190915591508615611e1757600d54601c54604080517f2a952b4b0000000000000000000000000000000000000000000000000000000081526004810192909252602482018a90526044820189905251600160a060020a0390921691632a952b4b9160648082019260009290919082900301818387803b158015611d0257600080fd5b505af1158015611d16573d6000803e3d6000fd5b5050600d54604080517f8dd66012000000000000000000000000000000000000000000000000000000008152600481018c90529051600160a060020a039092169350638dd66012925060248082019260009290919082900301818387803b158015611d8057600080fd5b505af1158015611d94573d6000803e3d6000fd5b5050600d54604080517f8dd66012000000000000000000000000000000000000000000000000000000008152600481018b90529051600160a060020a039092169350638dd66012925060248082019260009290919082900301818387803b158015611dfe57600080fd5b505af1158015611e12573d6000803e3d6000fd5b505050505b600d54601c54604080517f8e056fe6000000000000000000000000000000000000000000000000000000008152600481019290925251600160a060020a0390921691638e056fe69160248082019260009290919082900301818387803b158015611e8057600080fd5b505af1158015611e94573d6000803e3d6000fd5b50505050505050505050505050565b611ecd3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b60138054600160a060020a031916600160a060020a0392909216919091179055565b80611efa3382611f27565b1515611f0557600080fd5b611f218484846020604051908101604052806000815250612f73565b50505050565b600080611f33836126f2565b905080600160a060020a031684600160a060020a03161480611f6e575083600160a060020a0316611f6384610fc5565b600160a060020a0316145b80611f7e5750611f7e81856137ca565b949350505050565b601b5460ff1615611f9657600080fd5b601b805460ff1916600117905582611fae3382611f27565b1515611fb957600080fd5b611fc4846002613704565b6000848152601f602052604090205460026000196101006001841615020190911604151561204b576000848152601f602052604090206120059084846141fe565b50600034111561204657604051600160a060020a033316903480156108fc02916000818181858888f19350505050158015612044573d6000803e3d6000fd5b505b61211c565b601954151561206d576000848152601f602052604090206120059084846141fe565b60195434101561207c57600080fd5b601454601954604051600160a060020a039092169181156108fc0291906000818181858888f193505050501580156120b8573d6000803e3d6000fd5b5060006019543403111561210157601954604051600160a060020a03331691340380156108fc02916000818181858888f193505050501580156120ff573d6000803e3d6000fd5b505b6000848152601f6020526040902061211a9084846141fe565b505b5050601b805460ff191690555050565b60408051808201909152600a81527f706175736541646d696e00000000000000000000000000000000000000000000602082015281565b61218d3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b600f8054600160a060020a031916600160a060020a0392909216919091179055565b600090815260208190526040902054600160a060020a0316151590565b60006121d6611649565b82106121e157600080fd5b60088054839081106121ef57fe5b90600052602060002001549050919050565b60195481565b601b5460009060ff161561221a57600080fd5b601b805460ff19166001179055816122323382611f27565b151561223d57600080fd5b60145461226690849074010000000000000000000000000000000000000000900460ff16613704565b6000601754111561230a5760175434101561228057600080fd5b601454601754604051600160a060020a039092169181156108fc0291906000818181858888f193505050501580156122bc573d6000803e3d6000fd5b5060006017543403111561230557601754604051600160a060020a03331691340380156108fc02916000818181858888f19350505050158015612303573d6000803e3d6000fd5b505b61234a565b600034111561234a57604051600160a060020a033316903480156108fc02916000818181858888f19350505050158015612348573d6000803e3d6000fd5b505b612353836126f2565b60125490925061236e908390600160a060020a03168561175b565b601254604080517fda2aa615000000000000000000000000000000000000000000000000000000008152600160a060020a038581166004830152602482018790529151919092169163da2aa61591604480830192600092919082900301818387803b1580156123dc57600080fd5b505af11580156123f0573d6000803e3d6000fd5b5050601b805460ff191690555050505050565b600c54600160a060020a031681565b60185481565b6124423360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b601955565b600160a060020a0381166000908152600660209081526040918290208054835181840281018401909452808452606093928301828280156124a757602002820191906000526020600020905b815481526020019060010190808311612493575b50505050509050919050565b6124dd3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b60128054600160a060020a031916600160a060020a0392909216919091179055565b8061250a3382611f27565b151561251557600080fd5b601e80548390811061252357fe5b600091825260209091206001600390920201015460ff16151561254557600080fd5b43601e8381548110151561255557fe5b9060005260206000209060030201600201541115151561257457600080fd5b6002601e8381548110151561258557fe5b906000526020600020906003020160010160006101000a81548160ff021916908360ff1602179055505050565b806125bd3382611f27565b15156125c857600080fd5b6125d3826003613704565b601054604080517f674106d8000000000000000000000000000000000000000000000000000000008152600481018590529051600160a060020a039092169163674106d8916024808201926020929091908290030181600087803b15801561263a57600080fd5b505af115801561264e573d6000803e3d6000fd5b505050506040513d602081101561266457600080fd5b5051151561267157600080fd5b6004601e8381548110151561258557fe5b601d5481565b60408051808201909152600e81527f416374696f6e436f6e747261637400000000000000000000000000000000000060208201526126c63382611181565b814301601e848154811015156126d857fe5b906000526020600020906003020160020181905550505050565b600081815260208190526040812054600160a060020a0316801515610f2857600080fd5b6127403360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b600d8054600160a060020a031916600160a060020a0392909216919091179055565b600d54600160a060020a031681565b6000600160a060020a038216151561278857600080fd5b50600160a060020a031660009081526002602052604090205490565b6127ce3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b601755565b6127fd3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b6111eb8282613c7d565b6000856128143382611f27565b151561281f57600080fd5b601e80548890811061282d57fe5b600091825260209091206001600390920201015460ff16151561284f57600080fd5b6002601e8881548110151561286057fe5b600091825260209091206001600390920201015460ff161061288757612887876002613704565b612890876126f2565b600f54604080517faee8a3bd000000000000000000000000000000000000000000000000000000008152600160a060020a038085166004830152602482018c9052604482018b9052606482018a90526084820189905260a48201889052915193955091169163aee8a3bd9160c4808201926020929091908290030181600087803b15801561291d57600080fd5b505af1158015612931573d6000803e3d6000fd5b505050506040513d602081101561294757600080fd5b50511561296657600f54612966908390600160a060020a03168961175b565b50505050505050565b601a5481565b601254600160a060020a031681565b6129ae3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b6014805475ff00000000000000000000000000000000000000000019167501000000000000000000000000000000000000000000179055565b601b5460009060ff16156129fa57600080fd5b601b805460ff1916600117905581612a123382611f27565b1515612a1d57600080fd5b601e805484908110612a2b57fe5b600091825260209091206001600390920201015460ff161515612a4d57600080fd5b601654341015612a5c57600080fd5b43601e84815481101515612a6c57fe5b906000526020600020906003020160020154111515612a8a57600080fd5b43601e84815481101515612a9a57fe5b9060005260206000209060030201600201540391506016548202341115612b6157601654604051600160a060020a033316918402340380156108fc02916000818181858888f19350505050158015612af6573d6000803e3d6000fd5b50601454601654604051600160a060020a039092169190840280156108fc02916000818181858888f19350505050158015612b35573d6000803e3d6000fd5b506000601e84815481101515612b4757fe5b906000526020600020906003020160020181905550612c0d565b6016541515612b7b576000601e84815481101515612b4757fe5b601454604051600160a060020a03909116903480156108fc02916000818181858888f19350505050158015612bb4573d6000803e3d6000fd5b50600160165434811515612bc457fe5b04601e85815481101515612bd457fe5b9060005260206000209060030201600201540303601e84815481101515612bf757fe5b9060005260206000209060030201600201819055505b5050601b805460ff1916905550565b60408051808201909152600e81527f416374696f6e436f6e74726163740000000000000000000000000000000000006020820152612c5a3382611181565b81601e84815481101515612c6a57fe5b906000526020600020906003020160010160016101000a81548160ff021916908360ff160217905550505050565b60058054604080516020601f6002600019610100600188161502019095169490940493840181900481028201810190925282815260609390929091830182828015610fba5780601f10610f8f57610100808354040283529160200191610fba565b612d233360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b60108054600160a060020a031916600160a060020a0392909216919091179055565b612d6f3360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b60148054600160a060020a031916600160a060020a0392909216919091179055565b33600160a060020a031682600160a060020a031614151515612db257600080fd5b600160a060020a03338116600081815260036020908152604080832094871680845294825291829020805486151560ff199091168117909155825190815291517f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c319281900390910190a35050565b60408051808201909152600e81527f4368616e6765436f6e74726163740000000000000000000000000000000000006020820152612e5e3382611181565b6002601e85815481101515612e6f57fe5b600091825260209091206001600390920201015460ff161015612e9157600080fd5b60ff82161515612ec15782601e85815481101515612eab57fe5b6000918252602090912060039091020155611f21565b82601e85815481101515612ed157fe5b906000526020600020906003020160010160026101000a815481600160f060020a030219169083600160f060020a0316021790555050505050565b601054600160a060020a031681565b612f453360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b6111eb8282613d9e565b60175481565b601354600160a060020a031681565b600e54600160a060020a031681565b81612f7e3382611f27565b1515612f8957600080fd5b612f9485858561175b565b612fa085858585613e7f565b151561134f57600080fd5b612fd53360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b60118054600160a060020a031916600160a060020a0392909216919091179055565b601b5460009060ff161561300a57600080fd5b601b805460ff19166001179055836130223382611f27565b151561302d57600080fd5b60145461305690869074010000000000000000000000000000000000000000900460ff16613704565b600060185411156130fa5760185434101561307057600080fd5b601154601854604051600160a060020a039092169181156108fc0291906000818181858888f193505050501580156130ac573d6000803e3d6000fd5b506000601854340311156130f557601854604051600160a060020a03331691340380156108fc02916000818181858888f193505050501580156130f3573d6000803e3d6000fd5b505b61313a565b600034111561313a57604051600160a060020a033316903480156108fc02916000818181858888f19350505050158015613138573d6000803e3d6000fd5b505b613143856126f2565b60115490925061315e908390600160a060020a03168761175b565b601154601854604080517f3e182d3f000000000000000000000000000000000000000000000000000000008152600160a060020a038681166004830152602482018a90526044820189905260648201889052608482019390935290519190921691633e182d3f9160a480830192600092919082900301818387803b1580156131e557600080fd5b505af11580156131f9573d6000803e3d6000fd5b5050601b805460ff1916905550505050505050565b6132383360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b6014805460ff909216740100000000000000000000000000000000000000000274ff000000000000000000000000000000000000000019909216919091179055565b60608060008060006060600061328f886121af565b151561329a57600080fd5b604080516060808252608082019092529060208201610c0080388339019050509550600094508793505b83156133255785516001860195600a8087049606945060f860020a60308601029188919081106132f057fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053506132c4565b84606060405190810160405280602181526020016000805160206142b7833981519152815260200160f860020a602f0281525051016040519080825280601f01601f191660200182016040528015613387578160200160208202803883390190505b509150600090505b6040805160608101825260218082526000805160206142b7833981519152602083015260f860020a602f02919092015281101561345e57606060405190810160405280602181526020016000805160206142b7833981519152815260200160f860020a602f028152508181518110151561340557fe5b90602001015160f860020a900460f860020a02828281518110151561342657fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060010161338f565b506000199093019260005b84811161350d578581860381518110151561348057fe5b90602001015160f860020a900460f860020a0282606060405190810160405280602181526020016000805160206142b7833981519152815260200160f860020a602f028152505183018151811015156134d557fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600101613469565b509695505050505050565b6135423360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b601655565b601e80548290811061355557fe5b600091825260209091206003909102018054600182015460029092015490925060ff8083169261010081049091169162010000909104600160f060020a03169085565b600b54600160a060020a031681565b604080518082019091526005815260d960020a6430b236b4b702602082015281565b601154600160a060020a031681565b6136023360408051908101604052806005815260200160d960020a6430b236b4b702815250611181565b601555565b806136123382611f27565b151561361d57600080fd5b6014547501000000000000000000000000000000000000000000900460ff16151561364757600080fd5b613652826002613704565b601a54600d54604080517fc96266e8000000000000000000000000000000000000000000000000000000008152600481018690529051600160a060020a039092169163c96266e8916024808201926020929091908290030181600087803b1580156136bc57600080fd5b505af11580156136d0573d6000803e3d6000fd5b505050506040513d60208110156136e657600080fd5b505110156136f357600080fd5b6003601e8381548110151561258557fe5b601e80548390811061371257fe5b600091825260209091206001600390920201015460ff16151561373457600080fd5b43601e8381548110151561374457fe5b9060005260206000209060030201600201541115801561378b5750601e80548390811061376d57fe5b6000918252602090912060039091020160010154610100900460ff16155b80156137bf57508060ff16601e838154811015156137a557fe5b600091825260209091206001600390920201015460ff1610155b15156111eb57600080fd5b600160a060020a03918216600090815260036020908152604080832093909416825291909152205460ff1690565b8033600160a060020a031661380c826126f2565b600160a060020a03161461381f57600080fd5b61382a826002613704565b6000601e8381548110151561383b57fe5b60009182526020909120600390910201600101805460ff191660ff928316179055601e80548490811061386a57fe5b906000526020600020906003020160010160016101000a81548160ff021916908360ff160217905550600019601e838154811015156138a557fe5b6000918252602090912060026003909202010155600e54600160a060020a031663ad4e2f776138d3846126f2565b6040805160e060020a63ffffffff8516028152600160a060020a039092166004830152602482018690526001604483015251606480830192600092919082900301818387803b15801561392557600080fd5b505af1158015613939573d6000803e3d6000fd5b5050505061395b613949836126f2565b600e54600160a060020a03168461175b565b600d54604080517ff5ef98ea000000000000000000000000000000000000000000000000000000008152600481018590529051600160a060020a039092169163f5ef98ea9160248082019260009290919082900301818387803b1580156139c157600080fd5b505af11580156139d5573d6000803e3d6000fd5b5050601d805460001901905550505050565b6137bf82825b600160a060020a03166000908152602091909152604090205460ff1690565b81600160a060020a0316613a1f826126f2565b600160a060020a031614613a3257600080fd5b600081815260016020526040902054600160a060020a0316156111eb5760008181526001602090815260408083208054600160a060020a031916905580518481529051600160a060020a038616927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925928290030190a35050565b6000806000613abb8585613fd7565b600084815260076020908152604080832054600160a060020a0389168452600690925290912054909350613af690600163ffffffff61405f16565b600160a060020a038616600090815260066020526040902080549193509083908110613b1e57fe5b90600052602060002001549050806006600087600160a060020a0316600160a060020a0316815260200190815260200160002084815481101515613b5e57fe5b6000918252602080832090910192909255600160a060020a0387168152600690915260408120805484908110613b9057fe5b6000918252602080832090910192909255600160a060020a0387168152600690915260409020805490613bc790600019830161427c565b50600093845260076020526040808520859055908452909220555050565b6000613bf18383614071565b50600160a060020a039091166000908152600660209081526040808320805460018101825590845282842081018590559383526007909152902055565b613c3882826140f3565b600880546000838152600960205260408120829055600182018355919091527ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee3015550565b613ce782600a836040518082805190602001908083835b60208310613cb35780518252601f199092019160209182019101613c94565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092915050614157565b7fd211483f91fc6eff862467f8de606587a30c8fc9981056f051b897a418df803a82826040518083600160a060020a0316600160a060020a0316815260200180602001828103825283818151815260200191508051906020019080838360005b83811015613d5f578181015183820152602001613d47565b50505050905090810190601f168015613d8c5780820380516001836020036101000a031916815260200191505b50935050505060405180910390a15050565b613e0882600a836040518082805190602001908083835b60208310613dd45780518252601f199092019160209182019101613db5565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092915050614179565b7fbfec83d64eaa953f2708271a023ab9ee82057f8f3578d548c1a4ba0b5b70048982826040518083600160a060020a0316600160a060020a03168152602001806020018281038252838181518152602001915080519060200190808383600083811015613d5f578181015183820152602001613d47565b600080613e9485600160a060020a031661419e565b1515613ea35760019150613fce565b84600160a060020a031663f0b9e5ba8786866040518463ffffffff1660e060020a0281526004018084600160a060020a0316600160a060020a0316815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015613f22578181015183820152602001613f0a565b50505050905090810190601f168015613f4f5780820380516001836020036101000a031916815260200191505b50945050505050602060405180830381600087803b158015613f7057600080fd5b505af1158015613f84573d6000803e3d6000fd5b505050506040513d6020811015613f9a57600080fd5b5051600160e060020a031981167ff0b9e5ba0000000000000000000000000000000000000000000000000000000014925090505b50949350505050565b81600160a060020a0316613fea826126f2565b600160a060020a031614613ffd57600080fd5b600160a060020a03821660009081526002602052604090205461402790600163ffffffff61405f16565b600160a060020a0390921660009081526002602090815260408083209490945591815290819052208054600160a060020a0319169055565b60008282111561406b57fe5b50900390565b600081815260208190526040902054600160a060020a03161561409357600080fd5b6000818152602081815260408083208054600160a060020a031916600160a060020a038716908117909155835260029091529020546140d39060016141a6565b600160a060020a0390921660009081526002602052604090209190915550565b600160a060020a038216151561410857600080fd5b6141128282613be5565b604080518281529051600160a060020a038416916000917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b600160a060020a0316600090815260209190915260409020805460ff19169055565b600160a060020a0316600090815260209190915260409020805460ff19166001179055565b6000903b1190565b60008282018381101561175457fe5b60408051808201825290600290829080388339509192915050565b6040805160a08101825260008082526020820181905291810182905260608101829052608081019190915290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061423f5782800160ff1982351617855561426c565b8280016001018555821561426c579182015b8281111561426c578235825591602001919060010190614251565b5061427892915061429c565b5090565b81548183558181111561117c5760008381526020902061117c9181019083015b610fc291905b8082111561427857600081556001016142a2560068747470733a2f2f7777772e647261676f6e736574682e636f6d2f696d616765a165627a7a7230582013edb9b776421732d127c5f4ce31c561e00bbef5b047989e7192b2d84131ecca0029"}