{"Runs": "200", "SwarmSource": "bzzr://2af9eadbcae2039027049471e337decca780facfd8515c6b4a28dce7930928a6", "ABI": "[{\"constant\":true,\"inputs\":[{\"name\":\"_interfaceID\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"operator\",\"type\":\"address\"},{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"operator\",\"type\":\"address\"},{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"isAuthorized\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"owner\",\"type\":\"address\"},{\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"tokenOfOwnerByIndex\",\"outputs\":[{\"name\":\"assetId\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"exists\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"tokensOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"tokenMetadata\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"assetId\",\"type\":\"uint256\"},{\"name\":\"beneficiary\",\"type\":\"address\"}],\"name\":\"generate\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"assetId\",\"type\":\"uint256\"},{\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"safeTransfer\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"destroy\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"operator\",\"type\":\"address\"},{\"name\":\"authorized\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"from\",\"type\":\"address\"},{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"assetId\",\"type\":\"uint256\"},{\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"addr\",\"type\":\"address\"}],\"name\":\"isContractProxy\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"assetHolder\",\"type\":\"address\"},{\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"getApprovedAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"assetId\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"holder\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"authorized\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"assetId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"}]", "Library": "", "CompilerVersion": "v0.4.25+commit.59dbf8f1", "ConstructorArguments": "", "SourceCode": "pragma solidity ^0.4.18;\r\n\r\nlibrary SafeMath {\r\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        if (a == 0) {\r\n            return 0;\r\n        }\r\n        uint256 c = a * b;\r\n        assert(c / a == b);\r\n        return c;\r\n    }\r\n\r\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        // assert(b > 0); // Solidity automatically throws when dividing by 0\r\n        uint256 c = a / b;\r\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\r\n        return c;\r\n    }\r\n\r\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        assert(b <= a);\r\n        return a - b;\r\n    }\r\n\r\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\r\n        uint256 c = a + b;\r\n        assert(c >= a);\r\n        return c;\r\n    }\r\n}\r\n\r\ninterface IERC721Receiver {\r\n  function onERC721Received(\r\n    address _operator,\r\n    address _from,\r\n    uint256 _tokenId,\r\n    bytes   _userData\r\n  ) external returns (bytes4);\r\n}\r\n\r\ncontract IERC721Metadata {\r\n    function name() external view returns (string);\r\n    function symbol() external view returns (string);\r\n    function description() external view returns (string);\r\n    function tokenMetadata(uint256 assetId) external view returns (string);\r\n}\r\n\r\ncontract IERC721Enumerable {\r\n    function tokensOf(address owner) external view returns (uint256[]);\r\n    function tokenOfOwnerByIndex(address owner, uint256 index) external view returns (uint256 tokenId);\r\n}\r\n\r\ninterface IERC721Base {\r\n    function totalSupply() external view returns (uint256);\r\n    // function exists(uint256 assetId) external view returns (bool);\r\n    function ownerOf(uint256 assetId) external view returns (address);\r\n    function balanceOf(address holder) external view returns (uint256);\r\n    function safeTransferFrom(address from, address to, uint256 assetId) external;\r\n    function safeTransferFrom(address from, address to, uint256 assetId, bytes userData) external;\r\n    function transferFrom(address from, address to, uint256 assetId) external;\r\n    function approve(address operator, uint256 assetId) external;\r\n    function setApprovalForAll(address operator, bool authorized) external;\r\n    function getApprovedAddress(uint256 assetId) external view returns (address);\r\n    function isApprovedForAll(address assetHolder, address operator) external view returns (bool);\r\n    function isAuthorized(address operator, uint256 assetId) external view returns (bool);\r\n\r\n    event Transfer(address indexed from, address indexed to, uint256 indexed assetId, address operator, bytes userData);\r\n    event Transfer(address indexed from, address indexed to, uint256 indexed assetId);\r\n    event ApprovalForAll(address indexed operator, address indexed holder, bool authorized);\r\n    event Approval(address indexed owner, address indexed operator, uint256 indexed assetId);\r\n}\r\n\r\ninterface ERC165 {\r\n  function supportsInterface(bytes4 interfaceID) external view returns (bool);\r\n}\r\n\r\ncontract AssetRegistryStorage {\r\n    string internal _name;\r\n    string internal _symbol;\r\n    string internal _description;\r\n\r\n    uint256 internal _count;\r\n    mapping(address => uint256[]) internal _assetsOf;\r\n    mapping(uint256 => address) internal _holderOf;\r\n    mapping(uint256 => uint256) internal _indexOfAsset;\r\n    mapping(uint256 => string) internal _assetData;\r\n    mapping(address => mapping(address => bool)) internal _operators;\r\n    mapping(uint256 => address) internal _approval;\r\n}\r\n\r\ncontract ERC721Enumerable is AssetRegistryStorage, IERC721Enumerable {\r\n    function tokensOf(address owner) external view returns (uint256[]) {\r\n        return _assetsOf[owner];\r\n    }\r\n\r\n    function tokenOfOwnerByIndex(address owner, uint256 index)external view returns (uint256 assetId) {\r\n        require(index < _assetsOf[owner].length);\r\n        require(index < (1<<127));\r\n        return _assetsOf[owner][index];\r\n    }\r\n}\r\n\r\ncontract ERC721Holder is IERC721Receiver {\r\n    bytes4 internal constant ERC721_RECEIVED = 0x150b7a02;\r\n\r\n    function onERC721Received(address /* _operator */, address /* _from */, uint256 /* _tokenId */, bytes /* _data */) external returns (bytes4) {\r\n        return ERC721_RECEIVED;\r\n    }\r\n}\r\n\r\ncontract ERC721Metadata is AssetRegistryStorage, IERC721Metadata {\r\n    function name() external view returns (string) {\r\n        return _name;\r\n    }\r\n\r\n    function symbol() external view returns (string) {\r\n        return _symbol;\r\n    }\r\n\r\n    function description() external view returns (string) {\r\n        return _description;\r\n    }\r\n\r\n    function tokenMetadata(uint256 assetId) external view returns (string) {\r\n        return _assetData[assetId];\r\n    }\r\n\r\n    function _update(uint256 assetId, string data) internal {\r\n        _assetData[assetId] = data;\r\n    }\r\n}\r\n\r\ncontract ERC721Base is AssetRegistryStorage, IERC721Base, ERC165 {\r\n    using SafeMath for uint256;\r\n\r\n    // Equals to `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))`\r\n    bytes4 private constant ERC721_RECEIVED = 0x150b7a02;\r\n\r\n    bytes4 private constant InterfaceId_ERC165 = 0x01ffc9a7;\r\n    /*\r\n    * 0x01ffc9a7 ===\r\n    *   bytes4(keccak256('supportsInterface(bytes4)'))\r\n    */\r\n\r\n    bytes4 private constant Old_InterfaceId_ERC721 = 0x7c0633c6;\r\n    bytes4 private constant InterfaceId_ERC721 = 0x80ac58cd;\r\n    /*\r\n    * 0x80ac58cd ===\r\n    *   bytes4(keccak256('balanceOf(address)')) ^\r\n    *   bytes4(keccak256('ownerOf(uint256)')) ^\r\n    *   bytes4(keccak256('approve(address,uint256)')) ^\r\n    *   bytes4(keccak256('getApproved(uint256)')) ^\r\n    *   bytes4(keccak256('setApprovalForAll(address,bool)')) ^\r\n    *   bytes4(keccak256('isApprovedForAll(address,address)')) ^\r\n    *   bytes4(keccak256('transferFrom(address,address,uint256)')) ^\r\n    *   bytes4(keccak256('safeTransferFrom(address,address,uint256)')) ^\r\n    *   bytes4(keccak256('safeTransferFrom(address,address,uint256,bytes)'))\r\n    */\r\n\r\n    //\r\n    // Global Getters\r\n    //\r\n\r\n    /**\r\n    * @dev Gets the total amount of assets stored by the contract\r\n    * @return uint256 representing the total amount of assets\r\n    */\r\n    function totalSupply() external view returns (uint256) {\r\n        return _totalSupply();\r\n    }\r\n\r\n    function _totalSupply() internal view returns (uint256) {\r\n        return _count;\r\n    }\r\n\r\n    function ownerOf(uint256 assetId) external view returns (address) {\r\n        return _ownerOf(assetId);\r\n    }\r\n\r\n    function _ownerOf(uint256 assetId) internal view returns (address) {\r\n        return _holderOf[assetId];\r\n    }\r\n\r\n    function balanceOf(address owner) external view returns (uint256) {\r\n        return _balanceOf(owner);\r\n    }\r\n\r\n    function _balanceOf(address owner) internal view returns (uint256) {\r\n        return _assetsOf[owner].length;\r\n    }\r\n\r\n    function isApprovedForAll(address assetHolder, address operator) external view returns (bool) {\r\n        return _isApprovedForAll(assetHolder, operator);\r\n    }\r\n    \r\n    function _isApprovedForAll(address assetHolder, address operator) internal view returns (bool) {\r\n        return _operators[assetHolder][operator];\r\n    }\r\n\r\n    function getApproved(uint256 assetId) external view returns (address) {\r\n        return _getApprovedAddress(assetId);\r\n    }\r\n\r\n    function getApprovedAddress(uint256 assetId) external view returns (address) {\r\n        return _getApprovedAddress(assetId);\r\n    }\r\n\r\n    function _getApprovedAddress(uint256 assetId) internal view returns (address) {\r\n        return _approval[assetId];\r\n    }\r\n\r\n    function isAuthorized(address operator, uint256 assetId) external view returns (bool) {\r\n        return _isAuthorized(operator, assetId);\r\n    }\r\n\r\n    function _isAuthorized(address operator, uint256 assetId) internal view returns (bool) {\r\n        require(operator != 0);\r\n        address owner = _ownerOf(assetId);\r\n        if (operator == owner) {\r\n            return true;\r\n        }\r\n        return _isApprovedForAll(owner, operator) || _getApprovedAddress(assetId) == operator;\r\n    }\r\n\r\n    function setApprovalForAll(address operator, bool authorized) external {\r\n        return _setApprovalForAll(operator, authorized);\r\n    }\r\n\r\n    function _setApprovalForAll(address operator, bool authorized) internal {\r\n        if (authorized) {\r\n            require(!_isApprovedForAll(msg.sender, operator));\r\n            _addAuthorization(operator, msg.sender);\r\n        } else {\r\n            require(_isApprovedForAll(msg.sender, operator));\r\n            _clearAuthorization(operator, msg.sender);\r\n        }\r\n        emit ApprovalForAll(msg.sender, operator, authorized);\r\n    }\r\n\r\n    function approve(address operator, uint256 assetId) external {\r\n        address holder = _ownerOf(assetId);\r\n        require(msg.sender == holder || _isApprovedForAll(msg.sender, holder));\r\n        require(operator != holder);\r\n\r\n        if (_getApprovedAddress(assetId) != operator) {\r\n            _approval[assetId] = operator;\r\n            emit Approval(holder, operator, assetId);\r\n        }\r\n    }\r\n\r\n    function _addAuthorization(address operator, address holder) private {\r\n        _operators[holder][operator] = true;\r\n    }\r\n\r\n    function _clearAuthorization(address operator, address holder) private {\r\n        _operators[holder][operator] = false;\r\n    }\r\n\r\n    function _addAssetTo(address to, uint256 assetId) internal {\r\n        _holderOf[assetId] = to;\r\n\r\n        uint256 length = _balanceOf(to);\r\n\r\n        _assetsOf[to].push(assetId);\r\n\r\n        _indexOfAsset[assetId] = length;\r\n\r\n        _count = _count.add(1);\r\n    }\r\n\r\n    function _removeAssetFrom(address from, uint256 assetId) internal {\r\n        uint256 assetIndex = _indexOfAsset[assetId];\r\n        uint256 lastAssetIndex = _balanceOf(from).sub(1);\r\n        uint256 lastAssetId = _assetsOf[from][lastAssetIndex];\r\n\r\n        _holderOf[assetId] = 0;\r\n\r\n        // Insert the last asset into the position previously occupied by the asset to be removed\r\n        _assetsOf[from][assetIndex] = lastAssetId;\r\n\r\n        // Resize the array\r\n        _assetsOf[from][lastAssetIndex] = 0;\r\n        _assetsOf[from].length--;\r\n\r\n        // Remove the array if no more assets are owned to prevent pollution\r\n        if (_assetsOf[from].length == 0) {\r\n            delete _assetsOf[from];\r\n        }\r\n\r\n        // Update the index of positions for the asset\r\n        _indexOfAsset[assetId] = 0;\r\n        _indexOfAsset[lastAssetId] = assetIndex;\r\n\r\n        _count = _count.sub(1);\r\n    }\r\n\r\n    function _clearApproval(address holder, uint256 assetId) internal {\r\n        if (_ownerOf(assetId) == holder && _approval[assetId] != 0) {\r\n            _approval[assetId] = 0;\r\n            emit Approval(holder, 0, assetId);\r\n        }\r\n    }\r\n\r\n    function _generate(uint256 assetId, address beneficiary) internal {\r\n        require(_holderOf[assetId] == 0);\r\n\r\n        _addAssetTo(beneficiary, assetId);\r\n\r\n        emit Transfer(0, beneficiary, assetId);\r\n    }\r\n\r\n    function _destroy(uint256 assetId) internal {\r\n        address holder = _holderOf[assetId];\r\n        require(holder != 0);\r\n\r\n        _removeAssetFrom(holder, assetId);\r\n\r\n        emit Transfer(holder, 0, assetId);\r\n    }\r\n\r\n    modifier onlyHolder(uint256 assetId) {\r\n        require(_ownerOf(assetId) == msg.sender);\r\n        _;\r\n    }\r\n\r\n    modifier onlyAuthorized(uint256 assetId) {\r\n        require(_isAuthorized(msg.sender, assetId));\r\n        _;\r\n    }\r\n\r\n    modifier isCurrentOwner(address from, uint256 assetId) {\r\n        require(_ownerOf(assetId) == from);\r\n        _;\r\n    }\r\n\r\n    modifier isDestinataryDefined(address destinatary) {\r\n        require(destinatary != 0);\r\n        _;\r\n    }\r\n\r\n    modifier destinataryIsNotHolder(uint256 assetId, address to) {\r\n        require(_ownerOf(assetId) != to);\r\n        _;\r\n    }\r\n\r\n    function safeTransferFrom(address from, address to, uint256 assetId) external {\r\n        return _doTransferFrom(from, to, assetId, '', true);\r\n    }\r\n\r\n    function safeTransferFrom(address from, address to, uint256 assetId, bytes userData) external {\r\n        return _doTransferFrom(from, to, assetId, userData, true);\r\n    }\r\n\r\n    function transferFrom(address from, address to, uint256 assetId) external {\r\n        return _doTransferFrom(from, to, assetId, '', false);\r\n    }\r\n\r\n    function _doTransferFrom(address from, address to, uint256 assetId, bytes userData, bool doCheck) onlyAuthorized(assetId) internal {\r\n        _moveToken(from, to, assetId, userData, doCheck);\r\n    }\r\n\r\n    function _moveToken(address from, address to, uint256 assetId, bytes userData, bool doCheck) isDestinataryDefined(to) destinataryIsNotHolder(assetId, to) isCurrentOwner(from, assetId) internal{\r\n        address holder = _holderOf[assetId];\r\n        _removeAssetFrom(holder, assetId);\r\n        _clearApproval(holder, assetId);\r\n        _addAssetTo(to, assetId);\r\n\r\n        if (doCheck && _isContract(to)) {\r\n            // Equals to `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))\r\n            require(IERC721Receiver(to).onERC721Received(msg.sender, holder, assetId, userData) == ERC721_RECEIVED);\r\n        }\r\n\r\n        emit Transfer(holder, to, assetId);\r\n    }\r\n\r\n    function supportsInterface(bytes4 _interfaceID) external view returns (bool) {\r\n        if (_interfaceID == 0xffffffff) {\r\n            return false;\r\n        }\r\n        \r\n        return _interfaceID == InterfaceId_ERC165 || _interfaceID == Old_InterfaceId_ERC721 || _interfaceID == InterfaceId_ERC721;\r\n    }\r\n\r\n    function _isContract(address addr) internal view returns (bool) {\r\n        uint size;\r\n        assembly { size := extcodesize(addr) }\r\n\r\n        return size > 0;\r\n    }\r\n}\r\n\r\ncontract FullAssetRegistry is ERC721Base, ERC721Enumerable, ERC721Metadata {\r\n    constructor() public {\r\n    }\r\n\r\n    function exists(uint256 assetId) external view returns (bool) {\r\n        return _exists(assetId);\r\n    }\r\n\r\n    function _exists(uint256 assetId) internal view returns (bool) {\r\n        return _holderOf[assetId] != 0;\r\n    }\r\n\r\n    function decimals() external pure returns (uint256) {\r\n        return 0;\r\n    }\r\n}\r\n\r\ncontract JZToken is FullAssetRegistry {\r\n    constructor() public {\r\n        _name = \"JZToken\";\r\n        _symbol = \"JZ\";\r\n        _description = \"JZ NFT Token\";\r\n    }\r\n\r\n    function isContractProxy(address addr) public view returns (bool) {\r\n        return _isContract(addr);\r\n    }\r\n\r\n    function generate(uint256 assetId, address beneficiary) public {\r\n        _generate(assetId, beneficiary);\r\n    }\r\n\r\n    function destroy(uint256 assetId) public {\r\n        _destroy(assetId);\r\n    }\r\n\r\n    // Problematic override on truffle\r\n    function safeTransfer(address from, address to, uint256 assetId, bytes data) public {\r\n        return _doTransferFrom(from, to, assetId, data, true);\r\n    }\r\n}", "OptimizationUsed": "1", "ContractName": "JZToken", "ByteCode": "0x60806040526004361061012f5763ffffffff60e060020a60003504166301ffc9a7811461013457806306fdde031461016a578063081812fc146101f4578063095ea7b31461022857806318160ddd1461024e57806323b872dd146102755780632972b0f01461029f5780632f745c59146102c3578063313ce567146102e757806342842e0e146102fc5780634f558e79146103265780635a3f26721461033e5780636352211e146103af5780636914db60146103c757806370a08231146103df5780637284e416146104005780637579de8f1461041557806376b82a911461043957806395d89b41146104a85780639d118770146104bd578063a22cb465146104d5578063b88d4fde146104fb578063c2e800ed14610534578063e985e9c514610555578063eca4742a146101f4575b600080fd5b34801561014057600080fd5b50610156600160e060020a03196004351661057c565b604080519115158252519081900360200190f35b34801561017657600080fd5b5061017f610635565b6040805160208082528351818301528351919283929083019185019080838360005b838110156101b95781810151838201526020016101a1565b50505050905090810190601f1680156101e65780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561020057600080fd5b5061020c6004356106cc565b60408051600160a060020a039092168252519081900360200190f35b34801561023457600080fd5b5061024c600160a060020a03600435166024356106d7565b005b34801561025a57600080fd5b506102636107af565b60408051918252519081900360200190f35b34801561028157600080fd5b5061024c600160a060020a03600435811690602435166044356107be565b3480156102ab57600080fd5b50610156600160a060020a03600435166024356107dc565b3480156102cf57600080fd5b50610263600160a060020a03600435166024356107ef565b3480156102f357600080fd5b50610263610866565b34801561030857600080fd5b5061024c600160a060020a036004358116906024351660443561086b565b34801561033257600080fd5b50610156600435610889565b34801561034a57600080fd5b5061035f600160a060020a0360043516610894565b60408051602080825283518183015283519192839290830191858101910280838360005b8381101561039b578181015183820152602001610383565b505050509050019250505060405180910390f35b3480156103bb57600080fd5b5061020c600435610900565b3480156103d357600080fd5b5061017f60043561090b565b3480156103eb57600080fd5b50610263600160a060020a03600435166109a2565b34801561040c57600080fd5b5061017f6109ad565b34801561042157600080fd5b5061024c600435600160a060020a0360243516610a0b565b34801561044557600080fd5b50604080516020601f60643560048181013592830184900484028501840190955281845261024c94600160a060020a038135811695602480359092169560443595369560849401918190840183828082843750949750610a199650505050505050565b3480156104b457600080fd5b5061017f610a2d565b3480156104c957600080fd5b5061024c600435610a8d565b3480156104e157600080fd5b5061024c600160a060020a03600435166024351515610a99565b34801561050757600080fd5b5061024c600160a060020a0360048035821691602480359091169160443591606435908101910135610aa3565b34801561054057600080fd5b50610156600160a060020a0360043516610ae9565b34801561056157600080fd5b50610156600160a060020a0360043581169060243516610af4565b6000600160e060020a0319808316141561059857506000610630565b600160e060020a031982167f01ffc9a70000000000000000000000000000000000000000000000000000000014806105f95750600160e060020a031982167f7c0633c600000000000000000000000000000000000000000000000000000000145b8061062d5750600160e060020a031982167f80ac58cd00000000000000000000000000000000000000000000000000000000145b90505b919050565b60008054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156106c15780601f10610696576101008083540402835291602001916106c1565b820191906000526020600020905b8154815290600101906020018083116106a457829003601f168201915b505050505090505b90565b600061062d82610b00565b60006106e282610b1b565b905033600160a060020a038216148061070057506107003382610b36565b151561070b57600080fd5b600160a060020a03838116908216141561072457600080fd5b82600160a060020a031661073783610b00565b600160a060020a0316146107aa57600082815260096020526040808220805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a45b505050565b60006107b9610b64565b905090565b6107aa83838360206040519081016040528060008152506000610b6a565b60006107e88383610b95565b9392505050565b600160a060020a038216600090815260046020526040812054821061081357600080fd5b6f80000000000000000000000000000000821061082f57600080fd5b600160a060020a038316600090815260046020526040902080548390811061085357fe5b9060005260206000200154905092915050565b600090565b6107aa83838360206040519081016040528060008152506001610b6a565b600061062d82610c13565b600160a060020a0381166000908152600460209081526040918290208054835181840281018401909452808452606093928301828280156108f457602002820191906000526020600020905b8154815260200190600101908083116108e0575b50505050509050919050565b600061062d82610b1b565b60008181526007602090815260409182902080548351601f60026000196101006001861615020190931692909204918201849004840281018401909452808452606093928301828280156108f45780601f10610975576101008083540402835291602001916108f4565b820191906000526020600020905b8154815290600101906020018083116109835750939695505050505050565b600061062d82610c30565b60028054604080516020601f60001961010060018716150201909416859004938401819004810282018101909252828152606093909290918301828280156106c15780601f10610696576101008083540402835291602001916106c1565b610a158282610c4b565b5050565b610a27848484846001610b6a565b50505050565b60018054604080516020601f600260001961010087891615020190951694909404938401819004810282018101909252828152606093909290918301828280156106c15780601f10610696576101008083540402835291602001916106c1565b610a9681610cb4565b50565b610a158282610d1f565b610ae285858585858080601f0160208091040260200160405190810160405280939291908181526020018383808284375060019450610b6a9350505050565b5050505050565b600061062d82610dad565b60006107e88383610b36565b600090815260096020526040902054600160a060020a031690565b600090815260056020526040902054600160a060020a031690565b600160a060020a03918216600090815260086020908152604080832093909416825291909152205460ff1690565b60035490565b82610b753382610b95565b1515610b8057600080fd5b610b8d8686868686610db5565b505050505050565b600080600160a060020a0384161515610bad57600080fd5b610bb683610b1b565b905080600160a060020a031684600160a060020a03161415610bdb5760019150610c0c565b610be58185610b36565b80610c09575083600160a060020a0316610bfe84610b00565b600160a060020a0316145b91505b5092915050565b600090815260056020526040902054600160a060020a0316151590565b600160a060020a031660009081526004602052604090205490565b600082815260056020526040902054600160a060020a031615610c6d57600080fd5b610c77818361100b565b8181600160a060020a031660007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b600081815260056020526040902054600160a060020a0316801515610cd857600080fd5b610ce281836110a2565b81600082600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b8015610d4857610d2f3383610b36565b15610d3957600080fd5b610d438233611230565b610d67565b610d523383610b36565b1515610d5d57600080fd5b610d678233611265565b6040805182151581529051600160a060020a0384169133917f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c319181900360200190a35050565b6000903b1190565b600084600160a060020a0381161515610dcd57600080fd5b848680600160a060020a0316610de283610b1b565b600160a060020a03161415610df657600080fd5b888781600160a060020a0316610e0b82610b1b565b600160a060020a031614610e1e57600080fd5b600089815260056020526040902054600160a060020a03169550610e42868a6110a2565b610e4c868a611297565b610e568a8a61100b565b868015610e675750610e678a610dad565b15610fbd5763150b7a0260e060020a027bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19168a600160a060020a031663150b7a0233898d8d6040518563ffffffff1660e060020a0281526004018085600160a060020a0316600160a060020a0316815260200184600160a060020a0316600160a060020a0316815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015610f2e578181015183820152602001610f16565b50505050905090810190601f168015610f5b5780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381600087803b158015610f7d57600080fd5b505af1158015610f91573d6000803e3d6000fd5b505050506040513d6020811015610fa757600080fd5b5051600160e060020a03191614610fbd57600080fd5b888a600160a060020a031687600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050505050505050505050565b6000818152600560205260408120805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03851617905561104883610c30565b600160a060020a038416600090815260046020908152604080832080546001818101835591855283852001879055868452600690925290912082905560035491925061109a919063ffffffff61133d16565b600355505050565b60008181526006602052604081205490806110cd60016110c187610c30565b9063ffffffff61134c16565b600160a060020a0386166000908152600460205260409020805491935090839081106110f557fe5b6000918252602080832090910154868352600582526040808420805473ffffffffffffffffffffffffffffffffffffffff19169055600160a060020a038916845260049092529120805491925082918590811061114e57fe5b6000918252602080832090910192909255600160a060020a038716815260049091526040812080548490811061118057fe5b6000918252602080832090910192909255600160a060020a03871681526004909152604090208054906111b790600019830161135e565b50600160a060020a03851660009081526004602052604090205415156111f857600160a060020a03851660009081526004602052604081206111f891611382565b600084815260066020526040808220829055828252902083905560035461122690600163ffffffff61134c16565b6003555050505050565b600160a060020a039081166000908152600860209081526040808320949093168252929092529020805460ff19166001179055565b600160a060020a039081166000908152600860209081526040808320949093168252929092529020805460ff19169055565b81600160a060020a03166112aa82610b1b565b600160a060020a03161480156112d65750600081815260096020526040902054600160a060020a031615155b15610a1557600081815260096020526040808220805473ffffffffffffffffffffffffffffffffffffffff1916905551829190600160a060020a038516907f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925908390a45050565b6000828201838110156107e857fe5b60008282111561135857fe5b50900390565b8154818355818111156107aa576000838152602090206107aa91810190830161139c565b5080546000825590600052602060002090810190610a9691905b6106c991905b808211156113b657600081556001016113a2565b50905600a165627a7a723058202af9eadbcae2039027049471e337decca780facfd8515c6b4a28dce7930928a60029"}