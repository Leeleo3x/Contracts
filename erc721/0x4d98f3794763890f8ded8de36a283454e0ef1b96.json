{"Runs": "200", "SwarmSource": "bzzr://27061fc3142458ddfcfff85a76ed2b0367409e3c38882485566fc64f90f1a36b", "ABI": "[{\"constant\":true,\"inputs\":[{\"name\":\"_interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"adminSetMarket\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"x\",\"type\":\"uint8\"},{\"name\":\"y\",\"type\":\"uint8\"}],\"name\":\"getBlockOwner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"fromX\",\"type\":\"uint8\"},{\"name\":\"fromY\",\"type\":\"uint8\"},{\"name\":\"toX\",\"type\":\"uint8\"},{\"name\":\"toY\",\"type\":\"uint8\"}],\"name\":\"areaPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"InterfaceId_ERC165\",\"outputs\":[{\"name\":\"\",\"type\":\"bytes4\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"balances\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"tokenOfOwnerByIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"adminSetAds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_payer\",\"type\":\"address\"},{\"name\":\"_recipient\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"operatorTransferFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"rentals\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"exists\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"tokenByIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"x\",\"type\":\"uint8\"},{\"name\":\"y\",\"type\":\"uint8\"}],\"name\":\"adminImportOldMEBlock\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fromX\",\"type\":\"uint8\"},{\"name\":\"fromY\",\"type\":\"uint8\"},{\"name\":\"toX\",\"type\":\"uint8\"},{\"name\":\"toY\",\"type\":\"uint8\"},{\"name\":\"priceForEachBlockWei\",\"type\":\"uint256\"}],\"name\":\"sellArea\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_blockId\",\"type\":\"uint16\"}],\"name\":\"_mintCrowdsaleBlock\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fromX\",\"type\":\"uint8\"},{\"name\":\"fromY\",\"type\":\"uint8\"},{\"name\":\"toX\",\"type\":\"uint8\"},{\"name\":\"toY\",\"type\":\"uint8\"},{\"name\":\"imageSource\",\"type\":\"string\"},{\"name\":\"link\",\"type\":\"string\"},{\"name\":\"text\",\"type\":\"string\"}],\"name\":\"placeAds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"market\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fromX\",\"type\":\"uint8\"},{\"name\":\"fromY\",\"type\":\"uint8\"},{\"name\":\"toX\",\"type\":\"uint8\"},{\"name\":\"toY\",\"type\":\"uint8\"},{\"name\":\"rentPricePerPeriodWei\",\"type\":\"uint256\"}],\"name\":\"rentOutArea\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"x\",\"type\":\"uint8\"},{\"name\":\"y\",\"type\":\"uint8\"}],\"name\":\"blockID\",\"outputs\":[{\"name\":\"\",\"type\":\"uint16\"}],\"payable\":false,\"stateMutability\":\"pure\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"adminSetRentals\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fromX\",\"type\":\"uint8\"},{\"name\":\"fromY\",\"type\":\"uint8\"},{\"name\":\"toX\",\"type\":\"uint8\"},{\"name\":\"toY\",\"type\":\"uint8\"}],\"name\":\"buyArea\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"adminRescueFunds\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"advertiser\",\"type\":\"address\"},{\"name\":\"fromX\",\"type\":\"uint8\"},{\"name\":\"fromY\",\"type\":\"uint8\"},{\"name\":\"toX\",\"type\":\"uint8\"},{\"name\":\"toY\",\"type\":\"uint8\"}],\"name\":\"canAdvertise\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"fromX\",\"type\":\"uint8\"},{\"name\":\"fromY\",\"type\":\"uint8\"},{\"name\":\"toX\",\"type\":\"uint8\"},{\"name\":\"toY\",\"type\":\"uint8\"},{\"name\":\"numberOfPeriods\",\"type\":\"uint256\"}],\"name\":\"areaRentPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ads\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"tokenURI\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"fromX\",\"type\":\"uint8\"},{\"name\":\"fromY\",\"type\":\"uint8\"},{\"name\":\"toX\",\"type\":\"uint8\"},{\"name\":\"toY\",\"type\":\"uint8\"},{\"name\":\"numberOfPeriods\",\"type\":\"uint256\"}],\"name\":\"rentArea\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"isMEH\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"ID\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"fromX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"fromY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"newLandlord\",\"type\":\"address\"}],\"name\":\"LogBuys\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"ID\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"fromX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"fromY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"sellPrice\",\"type\":\"uint256\"}],\"name\":\"LogSells\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"ID\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"fromX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"fromY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"rentPricePerPeriodWei\",\"type\":\"uint256\"}],\"name\":\"LogRentsOut\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"ID\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"fromX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"fromY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"numberOfPeriods\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"rentedFrom\",\"type\":\"uint256\"}],\"name\":\"LogRents\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"ID\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"fromX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"fromY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toX\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"toY\",\"type\":\"uint8\"},{\"indexed\":false,\"name\":\"imageSourceUrl\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"adUrl\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"adText\",\"type\":\"string\"},{\"indexed\":true,\"name\":\"advertiser\",\"type\":\"address\"}],\"name\":\"LogAds\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"payerOrPayee\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"balanceChange\",\"type\":\"int256\"}],\"name\":\"LogContractBalance\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"newAddress\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"moduleName\",\"type\":\"string\"}],\"name\":\"LogModuleUpgrade\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Pause\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Unpause\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"}],\"name\":\"OwnershipRenounced\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_approved\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_operator\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"}]", "Library": "", "CompilerVersion": "v0.4.24+commit.e67f0147", "ConstructorArguments": "", "SourceCode": "pragma solidity ^0.4.24;\r\n\r\n// File: openzeppelin-solidity/contracts/introspection/ERC165.sol\r\n\r\n/**\r\n * @title ERC165\r\n * @dev https://github.com/ethereum/EIPs/blob/master/EIPS/eip-165.md\r\n */\r\ninterface ERC165 {\r\n\r\n  /**\r\n   * @notice Query if a contract implements an interface\r\n   * @param _interfaceId The interface identifier, as specified in ERC-165\r\n   * @dev Interface identification is specified in ERC-165. This function\r\n   * uses less than 30,000 gas.\r\n   */\r\n  function supportsInterface(bytes4 _interfaceId)\r\n    external\r\n    view\r\n    returns (bool);\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/token/ERC721/ERC721Basic.sol\r\n\r\n/**\r\n * @title ERC721 Non-Fungible Token Standard basic interface\r\n * @dev see https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md\r\n */\r\ncontract ERC721Basic is ERC165 {\r\n\r\n  bytes4 internal constant InterfaceId_ERC721 = 0x80ac58cd;\r\n  /*\r\n   * 0x80ac58cd ===\r\n   *   bytes4(keccak256('balanceOf(address)')) ^\r\n   *   bytes4(keccak256('ownerOf(uint256)')) ^\r\n   *   bytes4(keccak256('approve(address,uint256)')) ^\r\n   *   bytes4(keccak256('getApproved(uint256)')) ^\r\n   *   bytes4(keccak256('setApprovalForAll(address,bool)')) ^\r\n   *   bytes4(keccak256('isApprovedForAll(address,address)')) ^\r\n   *   bytes4(keccak256('transferFrom(address,address,uint256)')) ^\r\n   *   bytes4(keccak256('safeTransferFrom(address,address,uint256)')) ^\r\n   *   bytes4(keccak256('safeTransferFrom(address,address,uint256,bytes)'))\r\n   */\r\n\r\n  bytes4 internal constant InterfaceId_ERC721Exists = 0x4f558e79;\r\n  /*\r\n   * 0x4f558e79 ===\r\n   *   bytes4(keccak256('exists(uint256)'))\r\n   */\r\n\r\n  bytes4 internal constant InterfaceId_ERC721Enumerable = 0x780e9d63;\r\n  /**\r\n   * 0x780e9d63 ===\r\n   *   bytes4(keccak256('totalSupply()')) ^\r\n   *   bytes4(keccak256('tokenOfOwnerByIndex(address,uint256)')) ^\r\n   *   bytes4(keccak256('tokenByIndex(uint256)'))\r\n   */\r\n\r\n  bytes4 internal constant InterfaceId_ERC721Metadata = 0x5b5e139f;\r\n  /**\r\n   * 0x5b5e139f ===\r\n   *   bytes4(keccak256('name()')) ^\r\n   *   bytes4(keccak256('symbol()')) ^\r\n   *   bytes4(keccak256('tokenURI(uint256)'))\r\n   */\r\n\r\n  event Transfer(\r\n    address indexed _from,\r\n    address indexed _to,\r\n    uint256 indexed _tokenId\r\n  );\r\n  event Approval(\r\n    address indexed _owner,\r\n    address indexed _approved,\r\n    uint256 indexed _tokenId\r\n  );\r\n  event ApprovalForAll(\r\n    address indexed _owner,\r\n    address indexed _operator,\r\n    bool _approved\r\n  );\r\n\r\n  function balanceOf(address _owner) public view returns (uint256 _balance);\r\n  function ownerOf(uint256 _tokenId) public view returns (address _owner);\r\n  function exists(uint256 _tokenId) public view returns (bool _exists);\r\n\r\n  function approve(address _to, uint256 _tokenId) public;\r\n  function getApproved(uint256 _tokenId)\r\n    public view returns (address _operator);\r\n\r\n  function setApprovalForAll(address _operator, bool _approved) public;\r\n  function isApprovedForAll(address _owner, address _operator)\r\n    public view returns (bool);\r\n\r\n  function transferFrom(address _from, address _to, uint256 _tokenId) public;\r\n  function safeTransferFrom(address _from, address _to, uint256 _tokenId)\r\n    public;\r\n\r\n  function safeTransferFrom(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId,\r\n    bytes _data\r\n  )\r\n    public;\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/token/ERC721/ERC721.sol\r\n\r\n/**\r\n * @title ERC-721 Non-Fungible Token Standard, optional enumeration extension\r\n * @dev See https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md\r\n */\r\ncontract ERC721Enumerable is ERC721Basic {\r\n  function totalSupply() public view returns (uint256);\r\n  function tokenOfOwnerByIndex(\r\n    address _owner,\r\n    uint256 _index\r\n  )\r\n    public\r\n    view\r\n    returns (uint256 _tokenId);\r\n\r\n  function tokenByIndex(uint256 _index) public view returns (uint256);\r\n}\r\n\r\n\r\n/**\r\n * @title ERC-721 Non-Fungible Token Standard, optional metadata extension\r\n * @dev See https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md\r\n */\r\ncontract ERC721Metadata is ERC721Basic {\r\n  function name() external view returns (string _name);\r\n  function symbol() external view returns (string _symbol);\r\n  function tokenURI(uint256 _tokenId) public view returns (string);\r\n}\r\n\r\n\r\n/**\r\n * @title ERC-721 Non-Fungible Token Standard, full implementation interface\r\n * @dev See https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md\r\n */\r\ncontract ERC721 is ERC721Basic, ERC721Enumerable, ERC721Metadata {\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/token/ERC721/ERC721Receiver.sol\r\n\r\n/**\r\n * @title ERC721 token receiver interface\r\n * @dev Interface for any contract that wants to support safeTransfers\r\n * from ERC721 asset contracts.\r\n */\r\ncontract ERC721Receiver {\r\n  /**\r\n   * @dev Magic value to be returned upon successful reception of an NFT\r\n   *  Equals to `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))`,\r\n   *  which can be also obtained as `ERC721Receiver(0).onERC721Received.selector`\r\n   */\r\n  bytes4 internal constant ERC721_RECEIVED = 0x150b7a02;\r\n\r\n  /**\r\n   * @notice Handle the receipt of an NFT\r\n   * @dev The ERC721 smart contract calls this function on the recipient\r\n   * after a `safetransfer`. This function MAY throw to revert and reject the\r\n   * transfer. Return of other than the magic value MUST result in the\r\n   * transaction being reverted.\r\n   * Note: the contract address is always the message sender.\r\n   * @param _operator The address which called `safeTransferFrom` function\r\n   * @param _from The address which previously owned the token\r\n   * @param _tokenId The NFT identifier which is being transferred\r\n   * @param _data Additional data with no specified format\r\n   * @return `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))`\r\n   */\r\n  function onERC721Received(\r\n    address _operator,\r\n    address _from,\r\n    uint256 _tokenId,\r\n    bytes _data\r\n  )\r\n    public\r\n    returns(bytes4);\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/math/SafeMath.sol\r\n\r\n/**\r\n * @title SafeMath\r\n * @dev Math operations with safety checks that throw on error\r\n */\r\nlibrary SafeMath {\r\n\r\n  /**\r\n  * @dev Multiplies two numbers, throws on overflow.\r\n  */\r\n  function mul(uint256 _a, uint256 _b) internal pure returns (uint256 c) {\r\n    // Gas optimization: this is cheaper than asserting 'a' not being zero, but the\r\n    // benefit is lost if 'b' is also tested.\r\n    // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\r\n    if (_a == 0) {\r\n      return 0;\r\n    }\r\n\r\n    c = _a * _b;\r\n    assert(c / _a == _b);\r\n    return c;\r\n  }\r\n\r\n  /**\r\n  * @dev Integer division of two numbers, truncating the quotient.\r\n  */\r\n  function div(uint256 _a, uint256 _b) internal pure returns (uint256) {\r\n    // assert(_b > 0); // Solidity automatically throws when dividing by 0\r\n    // uint256 c = _a / _b;\r\n    // assert(_a == _b * c + _a % _b); // There is no case in which this doesn't hold\r\n    return _a / _b;\r\n  }\r\n\r\n  /**\r\n  * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).\r\n  */\r\n  function sub(uint256 _a, uint256 _b) internal pure returns (uint256) {\r\n    assert(_b <= _a);\r\n    return _a - _b;\r\n  }\r\n\r\n  /**\r\n  * @dev Adds two numbers, throws on overflow.\r\n  */\r\n  function add(uint256 _a, uint256 _b) internal pure returns (uint256 c) {\r\n    c = _a + _b;\r\n    assert(c >= _a);\r\n    return c;\r\n  }\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/AddressUtils.sol\r\n\r\n/**\r\n * Utility library of inline functions on addresses\r\n */\r\nlibrary AddressUtils {\r\n\r\n  /**\r\n   * Returns whether the target address is a contract\r\n   * @dev This function will return false if invoked during the constructor of a contract,\r\n   * as the code is not actually created until after the constructor finishes.\r\n   * @param _addr address to check\r\n   * @return whether the target address is a contract\r\n   */\r\n  function isContract(address _addr) internal view returns (bool) {\r\n    uint256 size;\r\n    // XXX Currently there is no better way to check if there is a contract in an address\r\n    // than to check the size of the code at that address.\r\n    // See https://ethereum.stackexchange.com/a/14016/36603\r\n    // for more details about how this works.\r\n    // TODO Check this again before the Serenity release, because all addresses will be\r\n    // contracts then.\r\n    // solium-disable-next-line security/no-inline-assembly\r\n    assembly { size := extcodesize(_addr) }\r\n    return size > 0;\r\n  }\r\n\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/introspection/SupportsInterfaceWithLookup.sol\r\n\r\n/**\r\n * @title SupportsInterfaceWithLookup\r\n * @author Matt Condon (@shrugs)\r\n * @dev Implements ERC165 using a lookup table.\r\n */\r\ncontract SupportsInterfaceWithLookup is ERC165 {\r\n\r\n  bytes4 public constant InterfaceId_ERC165 = 0x01ffc9a7;\r\n  /**\r\n   * 0x01ffc9a7 ===\r\n   *   bytes4(keccak256('supportsInterface(bytes4)'))\r\n   */\r\n\r\n  /**\r\n   * @dev a mapping of interface id to whether or not it's supported\r\n   */\r\n  mapping(bytes4 => bool) internal supportedInterfaces;\r\n\r\n  /**\r\n   * @dev A contract implementing SupportsInterfaceWithLookup\r\n   * implement ERC165 itself\r\n   */\r\n  constructor()\r\n    public\r\n  {\r\n    _registerInterface(InterfaceId_ERC165);\r\n  }\r\n\r\n  /**\r\n   * @dev implement supportsInterface(bytes4) using a lookup table\r\n   */\r\n  function supportsInterface(bytes4 _interfaceId)\r\n    external\r\n    view\r\n    returns (bool)\r\n  {\r\n    return supportedInterfaces[_interfaceId];\r\n  }\r\n\r\n  /**\r\n   * @dev private method for registering an interface\r\n   */\r\n  function _registerInterface(bytes4 _interfaceId)\r\n    internal\r\n  {\r\n    require(_interfaceId != 0xffffffff);\r\n    supportedInterfaces[_interfaceId] = true;\r\n  }\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/token/ERC721/ERC721BasicToken.sol\r\n\r\n/**\r\n * @title ERC721 Non-Fungible Token Standard basic implementation\r\n * @dev see https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md\r\n */\r\ncontract ERC721BasicToken is SupportsInterfaceWithLookup, ERC721Basic {\r\n\r\n  using SafeMath for uint256;\r\n  using AddressUtils for address;\r\n\r\n  // Equals to `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))`\r\n  // which can be also obtained as `ERC721Receiver(0).onERC721Received.selector`\r\n  bytes4 private constant ERC721_RECEIVED = 0x150b7a02;\r\n\r\n  // Mapping from token ID to owner\r\n  mapping (uint256 => address) internal tokenOwner;\r\n\r\n  // Mapping from token ID to approved address\r\n  mapping (uint256 => address) internal tokenApprovals;\r\n\r\n  // Mapping from owner to number of owned token\r\n  mapping (address => uint256) internal ownedTokensCount;\r\n\r\n  // Mapping from owner to operator approvals\r\n  mapping (address => mapping (address => bool)) internal operatorApprovals;\r\n\r\n  constructor()\r\n    public\r\n  {\r\n    // register the supported interfaces to conform to ERC721 via ERC165\r\n    _registerInterface(InterfaceId_ERC721);\r\n    _registerInterface(InterfaceId_ERC721Exists);\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the balance of the specified address\r\n   * @param _owner address to query the balance of\r\n   * @return uint256 representing the amount owned by the passed address\r\n   */\r\n  function balanceOf(address _owner) public view returns (uint256) {\r\n    require(_owner != address(0));\r\n    return ownedTokensCount[_owner];\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the owner of the specified token ID\r\n   * @param _tokenId uint256 ID of the token to query the owner of\r\n   * @return owner address currently marked as the owner of the given token ID\r\n   */\r\n  function ownerOf(uint256 _tokenId) public view returns (address) {\r\n    address owner = tokenOwner[_tokenId];\r\n    require(owner != address(0));\r\n    return owner;\r\n  }\r\n\r\n  /**\r\n   * @dev Returns whether the specified token exists\r\n   * @param _tokenId uint256 ID of the token to query the existence of\r\n   * @return whether the token exists\r\n   */\r\n  function exists(uint256 _tokenId) public view returns (bool) {\r\n    address owner = tokenOwner[_tokenId];\r\n    return owner != address(0);\r\n  }\r\n\r\n  /**\r\n   * @dev Approves another address to transfer the given token ID\r\n   * The zero address indicates there is no approved address.\r\n   * There can only be one approved address per token at a given time.\r\n   * Can only be called by the token owner or an approved operator.\r\n   * @param _to address to be approved for the given token ID\r\n   * @param _tokenId uint256 ID of the token to be approved\r\n   */\r\n  function approve(address _to, uint256 _tokenId) public {\r\n    address owner = ownerOf(_tokenId);\r\n    require(_to != owner);\r\n    require(msg.sender == owner || isApprovedForAll(owner, msg.sender));\r\n\r\n    tokenApprovals[_tokenId] = _to;\r\n    emit Approval(owner, _to, _tokenId);\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the approved address for a token ID, or zero if no address set\r\n   * @param _tokenId uint256 ID of the token to query the approval of\r\n   * @return address currently approved for the given token ID\r\n   */\r\n  function getApproved(uint256 _tokenId) public view returns (address) {\r\n    return tokenApprovals[_tokenId];\r\n  }\r\n\r\n  /**\r\n   * @dev Sets or unsets the approval of a given operator\r\n   * An operator is allowed to transfer all tokens of the sender on their behalf\r\n   * @param _to operator address to set the approval\r\n   * @param _approved representing the status of the approval to be set\r\n   */\r\n  function setApprovalForAll(address _to, bool _approved) public {\r\n    require(_to != msg.sender);\r\n    operatorApprovals[msg.sender][_to] = _approved;\r\n    emit ApprovalForAll(msg.sender, _to, _approved);\r\n  }\r\n\r\n  /**\r\n   * @dev Tells whether an operator is approved by a given owner\r\n   * @param _owner owner address which you want to query the approval of\r\n   * @param _operator operator address which you want to query the approval of\r\n   * @return bool whether the given operator is approved by the given owner\r\n   */\r\n  function isApprovedForAll(\r\n    address _owner,\r\n    address _operator\r\n  )\r\n    public\r\n    view\r\n    returns (bool)\r\n  {\r\n    return operatorApprovals[_owner][_operator];\r\n  }\r\n\r\n  /**\r\n   * @dev Transfers the ownership of a given token ID to another address\r\n   * Usage of this method is discouraged, use `safeTransferFrom` whenever possible\r\n   * Requires the msg sender to be the owner, approved, or operator\r\n   * @param _from current owner of the token\r\n   * @param _to address to receive the ownership of the given token ID\r\n   * @param _tokenId uint256 ID of the token to be transferred\r\n  */\r\n  function transferFrom(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId\r\n  )\r\n    public\r\n  {\r\n    require(isApprovedOrOwner(msg.sender, _tokenId));\r\n    require(_from != address(0));\r\n    require(_to != address(0));\r\n\r\n    clearApproval(_from, _tokenId);\r\n    removeTokenFrom(_from, _tokenId);\r\n    addTokenTo(_to, _tokenId);\r\n\r\n    emit Transfer(_from, _to, _tokenId);\r\n  }\r\n\r\n  /**\r\n   * @dev Safely transfers the ownership of a given token ID to another address\r\n   * If the target address is a contract, it must implement `onERC721Received`,\r\n   * which is called upon a safe transfer, and return the magic value\r\n   * `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))`; otherwise,\r\n   * the transfer is reverted.\r\n   *\r\n   * Requires the msg sender to be the owner, approved, or operator\r\n   * @param _from current owner of the token\r\n   * @param _to address to receive the ownership of the given token ID\r\n   * @param _tokenId uint256 ID of the token to be transferred\r\n  */\r\n  function safeTransferFrom(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId\r\n  )\r\n    public\r\n  {\r\n    // solium-disable-next-line arg-overflow\r\n    safeTransferFrom(_from, _to, _tokenId, \"\");\r\n  }\r\n\r\n  /**\r\n   * @dev Safely transfers the ownership of a given token ID to another address\r\n   * If the target address is a contract, it must implement `onERC721Received`,\r\n   * which is called upon a safe transfer, and return the magic value\r\n   * `bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))`; otherwise,\r\n   * the transfer is reverted.\r\n   * Requires the msg sender to be the owner, approved, or operator\r\n   * @param _from current owner of the token\r\n   * @param _to address to receive the ownership of the given token ID\r\n   * @param _tokenId uint256 ID of the token to be transferred\r\n   * @param _data bytes data to send along with a safe transfer check\r\n   */\r\n  function safeTransferFrom(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId,\r\n    bytes _data\r\n  )\r\n    public\r\n  {\r\n    transferFrom(_from, _to, _tokenId);\r\n    // solium-disable-next-line arg-overflow\r\n    require(checkAndCallSafeTransfer(_from, _to, _tokenId, _data));\r\n  }\r\n\r\n  /**\r\n   * @dev Returns whether the given spender can transfer a given token ID\r\n   * @param _spender address of the spender to query\r\n   * @param _tokenId uint256 ID of the token to be transferred\r\n   * @return bool whether the msg.sender is approved for the given token ID,\r\n   *  is an operator of the owner, or is the owner of the token\r\n   */\r\n  function isApprovedOrOwner(\r\n    address _spender,\r\n    uint256 _tokenId\r\n  )\r\n    internal\r\n    view\r\n    returns (bool)\r\n  {\r\n    address owner = ownerOf(_tokenId);\r\n    // Disable solium check because of\r\n    // https://github.com/duaraghav8/Solium/issues/175\r\n    // solium-disable-next-line operator-whitespace\r\n    return (\r\n      _spender == owner ||\r\n      getApproved(_tokenId) == _spender ||\r\n      isApprovedForAll(owner, _spender)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to mint a new token\r\n   * Reverts if the given token ID already exists\r\n   * @param _to The address that will own the minted token\r\n   * @param _tokenId uint256 ID of the token to be minted by the msg.sender\r\n   */\r\n  function _mint(address _to, uint256 _tokenId) internal {\r\n    require(_to != address(0));\r\n    addTokenTo(_to, _tokenId);\r\n    emit Transfer(address(0), _to, _tokenId);\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to burn a specific token\r\n   * Reverts if the token does not exist\r\n   * @param _tokenId uint256 ID of the token being burned by the msg.sender\r\n   */\r\n  function _burn(address _owner, uint256 _tokenId) internal {\r\n    clearApproval(_owner, _tokenId);\r\n    removeTokenFrom(_owner, _tokenId);\r\n    emit Transfer(_owner, address(0), _tokenId);\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to clear current approval of a given token ID\r\n   * Reverts if the given address is not indeed the owner of the token\r\n   * @param _owner owner of the token\r\n   * @param _tokenId uint256 ID of the token to be transferred\r\n   */\r\n  function clearApproval(address _owner, uint256 _tokenId) internal {\r\n    require(ownerOf(_tokenId) == _owner);\r\n    if (tokenApprovals[_tokenId] != address(0)) {\r\n      tokenApprovals[_tokenId] = address(0);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to add a token ID to the list of a given address\r\n   * @param _to address representing the new owner of the given token ID\r\n   * @param _tokenId uint256 ID of the token to be added to the tokens list of the given address\r\n   */\r\n  function addTokenTo(address _to, uint256 _tokenId) internal {\r\n    require(tokenOwner[_tokenId] == address(0));\r\n    tokenOwner[_tokenId] = _to;\r\n    ownedTokensCount[_to] = ownedTokensCount[_to].add(1);\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to remove a token ID from the list of a given address\r\n   * @param _from address representing the previous owner of the given token ID\r\n   * @param _tokenId uint256 ID of the token to be removed from the tokens list of the given address\r\n   */\r\n  function removeTokenFrom(address _from, uint256 _tokenId) internal {\r\n    require(ownerOf(_tokenId) == _from);\r\n    ownedTokensCount[_from] = ownedTokensCount[_from].sub(1);\r\n    tokenOwner[_tokenId] = address(0);\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to invoke `onERC721Received` on a target address\r\n   * The call is not executed if the target address is not a contract\r\n   * @param _from address representing the previous owner of the given token ID\r\n   * @param _to target address that will receive the tokens\r\n   * @param _tokenId uint256 ID of the token to be transferred\r\n   * @param _data bytes optional data to send along with the call\r\n   * @return whether the call correctly returned the expected magic value\r\n   */\r\n  function checkAndCallSafeTransfer(\r\n    address _from,\r\n    address _to,\r\n    uint256 _tokenId,\r\n    bytes _data\r\n  )\r\n    internal\r\n    returns (bool)\r\n  {\r\n    if (!_to.isContract()) {\r\n      return true;\r\n    }\r\n    bytes4 retval = ERC721Receiver(_to).onERC721Received(\r\n      msg.sender, _from, _tokenId, _data);\r\n    return (retval == ERC721_RECEIVED);\r\n  }\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/token/ERC721/ERC721Token.sol\r\n\r\n/**\r\n * @title Full ERC721 Token\r\n * This implementation includes all the required and some optional functionality of the ERC721 standard\r\n * Moreover, it includes approve all functionality using operator terminology\r\n * @dev see https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md\r\n */\r\ncontract ERC721Token is SupportsInterfaceWithLookup, ERC721BasicToken, ERC721 {\r\n\r\n  // Token name\r\n  string internal name_;\r\n\r\n  // Token symbol\r\n  string internal symbol_;\r\n\r\n  // Mapping from owner to list of owned token IDs\r\n  mapping(address => uint256[]) internal ownedTokens;\r\n\r\n  // Mapping from token ID to index of the owner tokens list\r\n  mapping(uint256 => uint256) internal ownedTokensIndex;\r\n\r\n  // Array with all token ids, used for enumeration\r\n  uint256[] internal allTokens;\r\n\r\n  // Mapping from token id to position in the allTokens array\r\n  mapping(uint256 => uint256) internal allTokensIndex;\r\n\r\n  // Optional mapping for token URIs\r\n  mapping(uint256 => string) internal tokenURIs;\r\n\r\n  /**\r\n   * @dev Constructor function\r\n   */\r\n  constructor(string _name, string _symbol) public {\r\n    name_ = _name;\r\n    symbol_ = _symbol;\r\n\r\n    // register the supported interfaces to conform to ERC721 via ERC165\r\n    _registerInterface(InterfaceId_ERC721Enumerable);\r\n    _registerInterface(InterfaceId_ERC721Metadata);\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the token name\r\n   * @return string representing the token name\r\n   */\r\n  function name() external view returns (string) {\r\n    return name_;\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the token symbol\r\n   * @return string representing the token symbol\r\n   */\r\n  function symbol() external view returns (string) {\r\n    return symbol_;\r\n  }\r\n\r\n  /**\r\n   * @dev Returns an URI for a given token ID\r\n   * Throws if the token ID does not exist. May return an empty string.\r\n   * @param _tokenId uint256 ID of the token to query\r\n   */\r\n  function tokenURI(uint256 _tokenId) public view returns (string) {\r\n    require(exists(_tokenId));\r\n    return tokenURIs[_tokenId];\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the token ID at a given index of the tokens list of the requested owner\r\n   * @param _owner address owning the tokens list to be accessed\r\n   * @param _index uint256 representing the index to be accessed of the requested tokens list\r\n   * @return uint256 token ID at the given index of the tokens list owned by the requested address\r\n   */\r\n  function tokenOfOwnerByIndex(\r\n    address _owner,\r\n    uint256 _index\r\n  )\r\n    public\r\n    view\r\n    returns (uint256)\r\n  {\r\n    require(_index < balanceOf(_owner));\r\n    return ownedTokens[_owner][_index];\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the total amount of tokens stored by the contract\r\n   * @return uint256 representing the total amount of tokens\r\n   */\r\n  function totalSupply() public view returns (uint256) {\r\n    return allTokens.length;\r\n  }\r\n\r\n  /**\r\n   * @dev Gets the token ID at a given index of all the tokens in this contract\r\n   * Reverts if the index is greater or equal to the total number of tokens\r\n   * @param _index uint256 representing the index to be accessed of the tokens list\r\n   * @return uint256 token ID at the given index of the tokens list\r\n   */\r\n  function tokenByIndex(uint256 _index) public view returns (uint256) {\r\n    require(_index < totalSupply());\r\n    return allTokens[_index];\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to set the token URI for a given token\r\n   * Reverts if the token ID does not exist\r\n   * @param _tokenId uint256 ID of the token to set its URI\r\n   * @param _uri string URI to assign\r\n   */\r\n  function _setTokenURI(uint256 _tokenId, string _uri) internal {\r\n    require(exists(_tokenId));\r\n    tokenURIs[_tokenId] = _uri;\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to add a token ID to the list of a given address\r\n   * @param _to address representing the new owner of the given token ID\r\n   * @param _tokenId uint256 ID of the token to be added to the tokens list of the given address\r\n   */\r\n  function addTokenTo(address _to, uint256 _tokenId) internal {\r\n    super.addTokenTo(_to, _tokenId);\r\n    uint256 length = ownedTokens[_to].length;\r\n    ownedTokens[_to].push(_tokenId);\r\n    ownedTokensIndex[_tokenId] = length;\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to remove a token ID from the list of a given address\r\n   * @param _from address representing the previous owner of the given token ID\r\n   * @param _tokenId uint256 ID of the token to be removed from the tokens list of the given address\r\n   */\r\n  function removeTokenFrom(address _from, uint256 _tokenId) internal {\r\n    super.removeTokenFrom(_from, _tokenId);\r\n\r\n    // To prevent a gap in the array, we store the last token in the index of the token to delete, and\r\n    // then delete the last slot.\r\n    uint256 tokenIndex = ownedTokensIndex[_tokenId];\r\n    uint256 lastTokenIndex = ownedTokens[_from].length.sub(1);\r\n    uint256 lastToken = ownedTokens[_from][lastTokenIndex];\r\n\r\n    ownedTokens[_from][tokenIndex] = lastToken;\r\n    // This also deletes the contents at the last position of the array\r\n    ownedTokens[_from].length--;\r\n\r\n    // Note that this will handle single-element arrays. In that case, both tokenIndex and lastTokenIndex are going to\r\n    // be zero. Then we can make sure that we will remove _tokenId from the ownedTokens list since we are first swapping\r\n    // the lastToken to the first position, and then dropping the element placed in the last position of the list\r\n\r\n    ownedTokensIndex[_tokenId] = 0;\r\n    ownedTokensIndex[lastToken] = tokenIndex;\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to mint a new token\r\n   * Reverts if the given token ID already exists\r\n   * @param _to address the beneficiary that will own the minted token\r\n   * @param _tokenId uint256 ID of the token to be minted by the msg.sender\r\n   */\r\n  function _mint(address _to, uint256 _tokenId) internal {\r\n    super._mint(_to, _tokenId);\r\n\r\n    allTokensIndex[_tokenId] = allTokens.length;\r\n    allTokens.push(_tokenId);\r\n  }\r\n\r\n  /**\r\n   * @dev Internal function to burn a specific token\r\n   * Reverts if the token does not exist\r\n   * @param _owner owner of the token to burn\r\n   * @param _tokenId uint256 ID of the token being burned by the msg.sender\r\n   */\r\n  function _burn(address _owner, uint256 _tokenId) internal {\r\n    super._burn(_owner, _tokenId);\r\n\r\n    // Clear metadata (if any)\r\n    if (bytes(tokenURIs[_tokenId]).length != 0) {\r\n      delete tokenURIs[_tokenId];\r\n    }\r\n\r\n    // Reorg all tokens array\r\n    uint256 tokenIndex = allTokensIndex[_tokenId];\r\n    uint256 lastTokenIndex = allTokens.length.sub(1);\r\n    uint256 lastToken = allTokens[lastTokenIndex];\r\n\r\n    allTokens[tokenIndex] = lastToken;\r\n    allTokens[lastTokenIndex] = 0;\r\n\r\n    allTokens.length--;\r\n    allTokensIndex[_tokenId] = 0;\r\n    allTokensIndex[lastToken] = tokenIndex;\r\n  }\r\n\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/ownership/Ownable.sol\r\n\r\n/**\r\n * @title Ownable\r\n * @dev The Ownable contract has an owner address, and provides basic authorization control\r\n * functions, this simplifies the implementation of \"user permissions\".\r\n */\r\ncontract Ownable {\r\n  address public owner;\r\n\r\n\r\n  event OwnershipRenounced(address indexed previousOwner);\r\n  event OwnershipTransferred(\r\n    address indexed previousOwner,\r\n    address indexed newOwner\r\n  );\r\n\r\n\r\n  /**\r\n   * @dev The Ownable constructor sets the original `owner` of the contract to the sender\r\n   * account.\r\n   */\r\n  constructor() public {\r\n    owner = msg.sender;\r\n  }\r\n\r\n  /**\r\n   * @dev Throws if called by any account other than the owner.\r\n   */\r\n  modifier onlyOwner() {\r\n    require(msg.sender == owner);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev Allows the current owner to relinquish control of the contract.\r\n   * @notice Renouncing to ownership will leave the contract without an owner.\r\n   * It will not be possible to call the functions with the `onlyOwner`\r\n   * modifier anymore.\r\n   */\r\n  function renounceOwnership() public onlyOwner {\r\n    emit OwnershipRenounced(owner);\r\n    owner = address(0);\r\n  }\r\n\r\n  /**\r\n   * @dev Allows the current owner to transfer control of the contract to a newOwner.\r\n   * @param _newOwner The address to transfer ownership to.\r\n   */\r\n  function transferOwnership(address _newOwner) public onlyOwner {\r\n    _transferOwnership(_newOwner);\r\n  }\r\n\r\n  /**\r\n   * @dev Transfers control of the contract to a newOwner.\r\n   * @param _newOwner The address to transfer ownership to.\r\n   */\r\n  function _transferOwnership(address _newOwner) internal {\r\n    require(_newOwner != address(0));\r\n    emit OwnershipTransferred(owner, _newOwner);\r\n    owner = _newOwner;\r\n  }\r\n}\r\n\r\n// File: openzeppelin-solidity/contracts/lifecycle/Pausable.sol\r\n\r\n/**\r\n * @title Pausable\r\n * @dev Base contract which allows children to implement an emergency stop mechanism.\r\n */\r\ncontract Pausable is Ownable {\r\n  event Pause();\r\n  event Unpause();\r\n\r\n  bool public paused = false;\r\n\r\n\r\n  /**\r\n   * @dev Modifier to make a function callable only when the contract is not paused.\r\n   */\r\n  modifier whenNotPaused() {\r\n    require(!paused);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev Modifier to make a function callable only when the contract is paused.\r\n   */\r\n  modifier whenPaused() {\r\n    require(paused);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev called by the owner to pause, triggers stopped state\r\n   */\r\n  function pause() public onlyOwner whenNotPaused {\r\n    paused = true;\r\n    emit Pause();\r\n  }\r\n\r\n  /**\r\n   * @dev called by the owner to unpause, returns to normal state\r\n   */\r\n  function unpause() public onlyOwner whenPaused {\r\n    paused = false;\r\n    emit Unpause();\r\n  }\r\n}\r\n\r\n// File: contracts/MEHAccessControl.sol\r\n\r\ncontract MarketInerface {\r\n    function buyBlocks(address, uint16[]) external returns (uint) {}\r\n    function sellBlocks(address, uint, uint16[]) external returns (uint) {}\r\n    function isMarket() public view returns (bool) {}\r\n    function isOnSale(uint16) public view returns (bool) {}\r\n    function areaPrice(uint16[]) public view returns (uint) {}\r\n    function importOldMEBlock(uint8, uint8) external returns (uint, address) {}\r\n}\r\n\r\ncontract RentalsInterface {\r\n    function rentOutBlocks(address, uint, uint16[]) external returns (uint) {}\r\n    function rentBlocks(address, uint, uint16[]) external returns (uint) {}\r\n    function blocksRentPrice(uint, uint16[]) external view returns (uint) {}\r\n    function isRentals() public view returns (bool) {}\r\n    function isRented(uint16) public view returns (bool) {}\r\n    function renterOf(uint16) public view returns (address) {}\r\n}\r\n\r\ncontract AdsInterface {\r\n    function advertiseOnBlocks(address, uint16[], string, string, string) external returns (uint) {}\r\n    function canAdvertiseOnBlocks(address, uint16[]) public view returns (bool) {}\r\n    function isAds() public view returns (bool) {}\r\n}\r\n\r\n/// @title MEHAccessControl: Part of MEH contract responsible for communication with external modules:\r\n///  Market, Rentals, Ads contracts. Provides authorization and upgradability methods.\r\ncontract MEHAccessControl is Pausable {\r\n\r\n    // Allows a module being plugged in to verify it is MEH contract. \r\n    bool public isMEH = true;\r\n\r\n    // Modules\r\n    MarketInerface public market;\r\n    RentalsInterface public rentals;\r\n    AdsInterface public ads;\r\n\r\n    // Emitted when a module is plugged.\r\n    event LogModuleUpgrade(address newAddress, string moduleName);\r\n    \r\n// GUARDS\r\n    \r\n    /// @dev Functions allowed to market module only. \r\n    modifier onlyMarket() {\r\n        require(msg.sender == address(market));\r\n        _;\r\n    }\r\n\r\n    /// @dev Functions allowed to balance operators only (market and rentals contracts are the \r\n    ///  only balance operators)\r\n    modifier onlyBalanceOperators() {\r\n        require(msg.sender == address(market) || msg.sender == address(rentals));\r\n        _;\r\n    }\r\n\r\n// ** Admin set Access ** //\r\n    /// @dev Allows admin to plug a new Market contract in.\r\n    // credits to cryptokittes! - https://github.com/Lunyr/crowdsale-contracts/blob/cfadd15986c30521d8ba7d5b6f57b4fefcc7ac38/contracts/LunyrToken.sol#L117\r\n    // NOTE: verify that a contract is what we expect\r\n    function adminSetMarket(address _address) external onlyOwner {\r\n        MarketInerface candidateContract = MarketInerface(_address);\r\n        require(candidateContract.isMarket());\r\n        market = candidateContract;\r\n        emit LogModuleUpgrade(_address, \"Market\");\r\n    }\r\n\r\n    /// @dev Allows admin to plug a new Rentals contract in.\r\n    function adminSetRentals(address _address) external onlyOwner {\r\n        RentalsInterface candidateContract = RentalsInterface(_address);\r\n        require(candidateContract.isRentals());\r\n        rentals = candidateContract;\r\n        emit LogModuleUpgrade(_address, \"Rentals\");\r\n    }\r\n\r\n    /// @dev Allows admin to plug a new Ads contract in.\r\n    function adminSetAds(address _address) external onlyOwner {\r\n        AdsInterface candidateContract = AdsInterface(_address);\r\n        require(candidateContract.isAds());\r\n        ads = candidateContract;\r\n        emit LogModuleUpgrade(_address, \"Ads\");\r\n    }\r\n}\r\n\r\n// File: contracts/MehERC721.sol\r\n\r\n// ERC721 \r\n\r\n\r\n\r\n/// @title MehERC721: Part of MEH contract responsible for ERC721 token management. Openzeppelin's\r\n///  ERC721 implementation modified for the Million Ether Homepage. \r\ncontract MehERC721 is ERC721Token(\"MillionEtherHomePage\",\"MEH\"), MEHAccessControl {\r\n\r\n    /// @dev Checks rights to transfer block ownership. Locks tokens on sale.\r\n    ///  Overrides OpenZEppelin's isApprovedOrOwner function - so that tokens marked for sale can \r\n    ///  be transferred by Market contract only.\r\n    function isApprovedOrOwner(\r\n        address _spender,\r\n        uint256 _tokenId\r\n    )\r\n        internal\r\n        view\r\n        returns (bool)\r\n    {   \r\n        bool onSale = market.isOnSale(uint16(_tokenId));\r\n\r\n        address owner = ownerOf(_tokenId);\r\n        bool spenderIsApprovedOrOwner =\r\n            _spender == owner ||\r\n            getApproved(_tokenId) == _spender ||\r\n            isApprovedForAll(owner, _spender);\r\n\r\n        return (\r\n            (onSale && _spender == address(market)) ||\r\n            (!(onSale) && spenderIsApprovedOrOwner)\r\n        );\r\n    }\r\n\r\n    /// @dev mints a new block.\r\n    ///  overrides _mint function to add pause/unpause functionality, onlyMarket access,\r\n    ///  restricts totalSupply of blocks to 10000 (as there is only a 100x100 blocks field).\r\n    function _mintCrowdsaleBlock(address _to, uint16 _blockId) external onlyMarket whenNotPaused {\r\n        if (totalSupply() <= 9999) {\r\n        _mint(_to, uint256(_blockId));\r\n        }\r\n    }\r\n\r\n    /// @dev overrides approve function to add pause/unpause functionality\r\n    function approve(address _to, uint256 _tokenId) public whenNotPaused {\r\n        super.approve(_to, _tokenId);\r\n    }\r\n \r\n    /// @dev overrides setApprovalForAll function to add pause/unpause functionality\r\n    function setApprovalForAll(address _to, bool _approved) public whenNotPaused {\r\n        super.setApprovalForAll(_to, _approved);\r\n    }    \r\n\r\n    /// @dev overrides transferFrom function to add pause/unpause functionality\r\n    ///  affects safeTransferFrom functions as well\r\n    function transferFrom(\r\n        address _from,\r\n        address _to,\r\n        uint256 _tokenId\r\n    )\r\n        public\r\n        whenNotPaused\r\n    {\r\n        super.transferFrom(_from, _to, _tokenId);\r\n    }\r\n}\r\n\r\n// File: contracts/Accounting.sol\r\n\r\n// import \"../installed_contracts/math.sol\";\r\n\r\n\r\n\r\n// @title Accounting: Part of MEH contract responsible for eth accounting.\r\ncontract Accounting is MEHAccessControl {\r\n    using SafeMath for uint256;\r\n\r\n    // Balances of users, admin, charity\r\n    mapping(address => uint256) public balances;\r\n\r\n    // Emitted when a user deposits or withdraws funds from the contract\r\n    event LogContractBalance(address payerOrPayee, int balanceChange);\r\n\r\n// ** PAYMENT PROCESSING ** //\r\n    \r\n    /// @dev Withdraws users available balance.\r\n    function withdraw() external whenNotPaused {\r\n        address payee = msg.sender;\r\n        uint256 payment = balances[payee];\r\n\r\n        require(payment != 0);\r\n        assert(address(this).balance >= payment);\r\n\r\n        balances[payee] = 0;\r\n\r\n        // reentrancy safe\r\n        payee.transfer(payment);\r\n        emit LogContractBalance(payee, int256(-payment));\r\n    }\r\n\r\n    /// @dev Lets external authorized contract (operators) to transfer balances within MEH contract.\r\n    ///  MEH contract doesn't transfer funds on its own. Instead Market and Rentals contracts\r\n    ///  are granted operator access.\r\n    function operatorTransferFunds(\r\n        address _payer, \r\n        address _recipient, \r\n        uint _amount) \r\n    external \r\n    onlyBalanceOperators\r\n    whenNotPaused\r\n    {\r\n        require(balances[_payer] >= _amount);\r\n        _deductFrom(_payer, _amount);\r\n        _depositTo(_recipient, _amount);\r\n    }\r\n\r\n    /// @dev Deposits eth to msg.sender balance.\r\n    function depositFunds() internal whenNotPaused {\r\n        _depositTo(msg.sender, msg.value);\r\n        emit LogContractBalance(msg.sender, int256(msg.value));\r\n    }\r\n\r\n    /// @dev Increases recipients internal balance.\r\n    function _depositTo(address _recipient, uint _amount) internal {\r\n        balances[_recipient] = balances[_recipient].add(_amount);\r\n    }\r\n\r\n    /// @dev Increases payers internal balance.\r\n    function _deductFrom(address _payer, uint _amount) internal {\r\n        balances[_payer] = balances[_payer].sub(_amount);\r\n    }\r\n\r\n// ** ADMIN ** //\r\n\r\n    /// @notice Allows admin to withdraw contract balance in emergency. And distribute manualy\r\n    ///  aftrewards.\r\n    /// @dev As the contract is not designed to keep users funds (users can withdraw\r\n    ///  at anytime) it should be relatively easy to manualy transfer unclaimed funds to \r\n    ///  their owners. This is an alternatinve to selfdestruct allowing blocks ledger (ERC721 tokens)\r\n    ///  to be immutable.\r\n    function adminRescueFunds() external onlyOwner whenPaused {\r\n        address payee = owner;\r\n        uint256 payment = address(this).balance;\r\n        payee.transfer(payment);\r\n    }\r\n\r\n    /// @dev Checks if a msg.sender has enough balance to pay the price _needed.\r\n    function canPay(uint _needed) internal view returns (bool) {\r\n        return (msg.value.add(balances[msg.sender]) >= _needed);\r\n    }\r\n}\r\n\r\n// File: contracts/MEH.sol\r\n\r\n/*\r\nMillionEther smart contract - decentralized advertising platform.\r\n\r\nThis program is free software: you can redistribute it and/or modifromY\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/*\r\n* A 1000x1000 pixel field is displayed at TheMillionEtherHomepage.com. \r\n* This smart contract lets anyone buy 10x10 pixel blocks and place ads there.\r\n* It also allows to sell blocks and rent them out to other advertisers. \r\n*\r\n* 10x10 pixels blocks are addressed by xy coordinates. So 1000x1000 pixel field is 100 by 100 blocks.\r\n* Making up 10 000 blocks in total. Each block is an ERC721 (non fungible token) token. \r\n*\r\n* At the initial sale the price for each block is $1 (price is feeded by an oracle). After\r\n* every 1000 blocks sold (every 10%) the price doubles. Owners can sell and rent out blocks at any\r\n* price they want. Owners and renters can place and replace ads to their blocks as many times they \r\n* want.\r\n*\r\n* All heavy logic is delegated to external upgradable contracts. There are 4 main modules (contracts):\r\n*     - MEH: Million Ether Homepage (MEH) contract. Provides user interface and accounting \r\n*         functionality. It is immutable and it keeps Non fungible ERC721 tokens (10x10 pixel blocks) \r\n*         ledger and eth balances. \r\n*     - Market: Plugable. Provides methods for buy-sell functionality, keeps buy-sell ledger, \r\n*         querries oracle for a ETH-USD price, \r\n*     - Rentals: Plugable. Provides methods for rentout-rent functionality, keeps rentout-rent ledger.\r\n*     - Ads: Plugable. Provides methods for image placement functionality.\r\n* \r\n*/\r\n\r\n/// @title MEH: Million Ether Homepage. Buy, sell, rent out pixels and place ads.\r\n/// @author Peter Porobov (https://keybase.io/peterporobov)\r\n/// @notice The main contract, accounting and user interface. Immutable.\r\ncontract MEH is MehERC721, Accounting {\r\n\r\n    /// @notice emited when an area blocks is bought\r\n    event LogBuys(\r\n        uint ID,\r\n        uint8 fromX,\r\n        uint8 fromY,\r\n        uint8 toX,\r\n        uint8 toY,\r\n        address newLandlord\r\n    );\r\n\r\n    /// @notice emited when an area blocks is marked for sale\r\n    event LogSells(\r\n        uint ID,\r\n        uint8 fromX,\r\n        uint8 fromY,\r\n        uint8 toX,\r\n        uint8 toY,\r\n        uint sellPrice\r\n    );\r\n\r\n    /// @notice emited when an area blocks is marked for rent\r\n    event LogRentsOut(\r\n        uint ID,\r\n        uint8 fromX,\r\n        uint8 fromY,\r\n        uint8 toX,\r\n        uint8 toY,\r\n        uint rentPricePerPeriodWei\r\n    );\r\n\r\n    /// @notice emited when an area blocks is rented\r\n    event LogRents(\r\n        uint ID,\r\n        uint8 fromX,\r\n        uint8 fromY,\r\n        uint8 toX,\r\n        uint8 toY,\r\n        uint numberOfPeriods,\r\n        uint rentedFrom\r\n    );\r\n\r\n    /// @notice emited when an ad is placed to an area\r\n    event LogAds(uint ID, \r\n        uint8 fromX,\r\n        uint8 fromY,\r\n        uint8 toX,\r\n        uint8 toY,\r\n        string imageSourceUrl,\r\n        string adUrl,\r\n        string adText,\r\n        address indexed advertiser);\r\n\r\n// ** BUY AND SELL BLOCKS ** //\r\n    \r\n    /// @notice lets a message sender to buy blocks within area\r\n    /// @dev if using a contract to buy an area make sure to implement ERC721 functionality \r\n    ///  as tokens are transfered using \"transferFrom\" function and not \"safeTransferFrom\"\r\n    ///  in order to avoid external calls.\r\n    function buyArea(uint8 fromX, uint8 fromY, uint8 toX, uint8 toY) \r\n        external\r\n        whenNotPaused\r\n        payable\r\n    {   \r\n        // check input parameters and eth deposited\r\n        require(isLegalCoordinates(fromX, fromY, toX, toY));\r\n        require(canPay(areaPrice(fromX, fromY, toX, toY)));\r\n        depositFunds();\r\n\r\n        // try to buy blocks through market contract\r\n        // will get an id of buy-sell operation if succeeds (if all blocks available)\r\n        uint id = market.buyBlocks(msg.sender, blocksList(fromX, fromY, toX, toY));\r\n        emit LogBuys(id, fromX, fromY, toX, toY, msg.sender);\r\n    }\r\n\r\n    /// @notice lets a message sender to mark blocks for sale at price set for each block in wei\r\n    /// @dev (priceForEachBlockCents = 0 - not for sale)\r\n    function sellArea(uint8 fromX, uint8 fromY, uint8 toX, uint8 toY, uint priceForEachBlockWei)\r\n        external \r\n        whenNotPaused\r\n    {   \r\n        // check input parameters\r\n        require(isLegalCoordinates(fromX, fromY, toX, toY));\r\n\r\n        // try to mark blocks for sale through market contract\r\n        // will get an id of buy-sell operation if succeeds (if owns all blocks)\r\n        uint id = market.sellBlocks(\r\n            msg.sender, \r\n            priceForEachBlockWei, \r\n            blocksList(fromX, fromY, toX, toY)\r\n        );\r\n        emit LogSells(id, fromX, fromY, toX, toY, priceForEachBlockWei);\r\n    }\r\n\r\n    /// @notice get area price in wei\r\n    function areaPrice(uint8 fromX, uint8 fromY, uint8 toX, uint8 toY) \r\n        public \r\n        view \r\n        returns (uint) \r\n    {   \r\n        // check input\r\n        require(isLegalCoordinates(fromX, fromY, toX, toY));\r\n\r\n        // querry areaPrice in wei at market contract\r\n        return market.areaPrice(blocksList(fromX, fromY, toX, toY));\r\n    }\r\n\r\n// ** RENT OUT AND RENT BLOCKS ** //\r\n        \r\n    /// @notice Rent out an area of blocks at coordinates [fromX, fromY, toX, toY] at a price for \r\n    ///  each block in wei\r\n    /// @dev if rentPricePerPeriodWei = 0 then makes area not available for rent\r\n    function rentOutArea(uint8 fromX, uint8 fromY, uint8 toX, uint8 toY, uint rentPricePerPeriodWei)\r\n        external\r\n        whenNotPaused\r\n    {   \r\n        // check input\r\n        require(isLegalCoordinates(fromX, fromY, toX, toY));\r\n\r\n        // try to mark blocks as rented out through rentals contract\r\n        // will get an id of rent-rentout operation if succeeds (if message sender owns blocks)\r\n        uint id = rentals.rentOutBlocks(\r\n            msg.sender, \r\n            rentPricePerPeriodWei, \r\n            blocksList(fromX, fromY, toX, toY)\r\n        );\r\n        emit LogRentsOut(id, fromX, fromY, toX, toY, rentPricePerPeriodWei);\r\n    }\r\n    \r\n    /// @notice Rent an area of blocks at coordinates [fromX, fromY, toX, toY] for a number of \r\n    ///  periods specified\r\n    ///  (period length is specified in rentals contract)\r\n    function rentArea(uint8 fromX, uint8 fromY, uint8 toX, uint8 toY, uint numberOfPeriods)\r\n        external\r\n        payable\r\n        whenNotPaused\r\n    {   \r\n        // check input parameters and eth deposited\r\n        // checks number of periods > 0 in rentals contract\r\n        require(isLegalCoordinates(fromX, fromY, toX, toY));\r\n        require(canPay(areaRentPrice(fromX, fromY, toX, toY, numberOfPeriods)));\r\n        depositFunds();\r\n\r\n        // try to rent blocks through rentals contract\r\n        // will get an id of rent-rentout operation if succeeds (if all blocks available for rent)\r\n        uint id = rentals.rentBlocks(\r\n            msg.sender, \r\n            numberOfPeriods, \r\n            blocksList(fromX, fromY, toX, toY)\r\n        );\r\n        emit LogRents(id, fromX, fromY, toX, toY, numberOfPeriods, 0);\r\n    }\r\n\r\n    /// @notice get area rent price in wei for number of periods specified \r\n    ///  (period length is specified in rentals contract) \r\n    function areaRentPrice(uint8 fromX, uint8 fromY, uint8 toX, uint8 toY, uint numberOfPeriods)\r\n        public \r\n        view \r\n        returns (uint) \r\n    {   \r\n        // check input \r\n        require(isLegalCoordinates(fromX, fromY, toX, toY));\r\n\r\n        // querry areaPrice in wei at rentals contract\r\n        return rentals.blocksRentPrice (numberOfPeriods, blocksList(fromX, fromY, toX, toY));\r\n    }\r\n\r\n// ** PLACE ADS ** //\r\n    \r\n    /// @notice places ads (image, caption and link to a website) into desired coordinates\r\n    /// @dev nothing is stored in any of the contracts except an image id. All other data is \r\n    ///  only emitted in event. Basicaly this function just verifies if an event is allowed \r\n    ///  to be emitted.\r\n    function placeAds( \r\n        uint8 fromX, \r\n        uint8 fromY, \r\n        uint8 toX, \r\n        uint8 toY, \r\n        string imageSource, \r\n        string link, \r\n        string text\r\n    ) \r\n        external\r\n        whenNotPaused\r\n    {   \r\n        // check input\r\n        require(isLegalCoordinates(fromX, fromY, toX, toY));\r\n\r\n        // try to place ads through ads contract\r\n        // will get an image id if succeeds (if advertiser owns or rents all blocks within area)\r\n        uint AdsId = ads.advertiseOnBlocks(\r\n            msg.sender, \r\n            blocksList(fromX, fromY, toX, toY), \r\n            imageSource, \r\n            link, \r\n            text\r\n        );\r\n        emit LogAds(AdsId, fromX, fromY, toX, toY, imageSource, link, text, msg.sender);\r\n    }\r\n\r\n    /// @notice check if an advertiser is allowed to put ads within area (i.e. owns or rents all \r\n    ///  blocks)\r\n    function canAdvertise(\r\n        address advertiser,\r\n        uint8 fromX, \r\n        uint8 fromY, \r\n        uint8 toX, \r\n        uint8 toY\r\n    ) \r\n        external\r\n        view\r\n        returns (bool)\r\n    {   \r\n        // check user input\r\n        require(isLegalCoordinates(fromX, fromY, toX, toY));\r\n\r\n        // querry permission at ads contract\r\n        return ads.canAdvertiseOnBlocks(advertiser, blocksList(fromX, fromY, toX, toY));\r\n    }\r\n\r\n// ** IMPORT BLOCKS ** //\r\n\r\n    /// @notice import blocks from previous version Million Ether Homepage\r\n    function adminImportOldMEBlock(uint8 x, uint8 y) external onlyOwner {\r\n        (uint id, address newLandlord) = market.importOldMEBlock(x, y);\r\n        emit LogBuys(id, x, y, x, y, newLandlord);\r\n    }\r\n\r\n// ** INFO GETTERS ** //\r\n    \r\n    /// @notice get an owner(address) of block at a specified coordinates\r\n    function getBlockOwner(uint8 x, uint8 y) external view returns (address) {\r\n        return ownerOf(blockID(x, y));\r\n    }\r\n\r\n// ** UTILS ** //\r\n    \r\n    /// @notice get ERC721 token id corresponding to xy coordinates\r\n    function blockID(uint8 x, uint8 y) public pure returns (uint16) {\r\n        return (uint16(y) - 1) * 100 + uint16(x);\r\n    }\r\n\r\n    /// @notice get a number of blocks within area\r\n    function countBlocks(\r\n        uint8 fromX, \r\n        uint8 fromY, \r\n        uint8 toX, \r\n        uint8 toY\r\n    ) \r\n        internal \r\n        pure \r\n        returns (uint16)\r\n    {\r\n        return (toX - fromX + 1) * (toY - fromY + 1);\r\n    }\r\n\r\n    /// @notice get an array of all block ids (i.e. ERC721 token ids) within area\r\n    function blocksList(\r\n        uint8 fromX, \r\n        uint8 fromY, \r\n        uint8 toX, \r\n        uint8 toY\r\n    ) \r\n        internal \r\n        pure \r\n        returns (uint16[] memory r) \r\n    {\r\n        uint i = 0;\r\n        r = new uint16[](countBlocks(fromX, fromY, toX, toY));\r\n        for (uint8 ix=fromX; ix<=toX; ix++) {\r\n            for (uint8 iy=fromY; iy<=toY; iy++) {\r\n                r[i] = blockID(ix, iy);\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n    \r\n    /// @notice insures that area coordinates are within 100x100 field and \r\n    ///  from-coordinates >= to-coordinates\r\n    /// @dev function is used instead of modifier as modifier \r\n    ///  required too much stack for placeImage and rentBlocks\r\n    function isLegalCoordinates(\r\n        uint8 _fromX, \r\n        uint8 _fromY, \r\n        uint8 _toX, \r\n        uint8 _toY\r\n    )    \r\n        private \r\n        pure \r\n        returns (bool) \r\n    {\r\n        return ((_fromX >= 1) && (_fromY >=1)  && (_toX <= 100) && (_toY <= 100) \r\n            && (_fromX <= _toX) && (_fromY <= _toY));\r\n    }\r\n}", "OptimizationUsed": "1", "ContractName": "MEH", "ByteCode": "0x6080604052600436106102215763ffffffff60e060020a60003504166301ffc9a78114610226578063036147e91461025c5780630693033a1461027f57806306fdde03146102bc578063081812fc14610346578063095ea7b31461035e578063137d35e91461038257806318160ddd146103c157806319fa8f50146103d657806323b872dd1461040857806327e235e3146104325780632f745c59146104535780633000ffb0146104775780633ccfd60b146104985780633d6e837b146104ad5780633f4ba83a146104d757806342842e0e146104ec5780634b802dde146105165780634f558e791461052b5780634f6ccce7146105435780635496a7af1461055b5780635c975abb1461057c578063624fcf3c146105915780636352211e146105c157806366d256d6146105d95780636b82bc3b1461060157806370a0823114610652578063715018a61461067357806380f556051461068857806381935d401461069d578063824515d2146106cd5780638456cb59146107055780638d1aeacf1461071a5780638da5cb5b1461073b578063906c36b81461075057806395d89b41146107705780639ecbf34114610785578063a22cb4651461079a578063ade14165146107c0578063b4b9fec3146107f9578063b6eda88414610829578063b88d4fde1461083e578063c87b56dd146108ad578063e985e9c5146108c5578063ee714205146108ec578063f2fde38b1461090f578063f3956a7114610930575b600080fd5b34801561023257600080fd5b50610248600160e060020a031960043516610945565b604080519115158252519081900360200190f35b34801561026857600080fd5b5061027d600160a060020a0360043516610964565b005b34801561028b57600080fd5b506102a060ff60043581169060243516610a82565b60408051600160a060020a039092168252519081900360200190f35b3480156102c857600080fd5b506102d1610aa1565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561030b5781810151838201526020016102f3565b50505050905090810190601f1680156103385780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561035257600080fd5b506102a0600435610b38565b34801561036a57600080fd5b5061027d600160a060020a0360043516602435610b53565b34801561038e57600080fd5b506103af60ff60043581169060243581169060443581169060643516610b78565b60408051918252519081900360200190f35b3480156103cd57600080fd5b506103af610c5a565b3480156103e257600080fd5b506103eb610c60565b60408051600160e060020a03199092168252519081900360200190f35b34801561041457600080fd5b5061027d600160a060020a0360043581169060243516604435610c84565b34801561043e57600080fd5b506103af600160a060020a0360043516610cab565b34801561045f57600080fd5b506103af600160a060020a0360043516602435610cbd565b34801561048357600080fd5b5061027d600160a060020a0360043516610d0a565b3480156104a457600080fd5b5061027d610e28565b3480156104b957600080fd5b5061027d600160a060020a0360043581169060243516604435610efd565b3480156104e357600080fd5b5061027d610f7b565b3480156104f857600080fd5b5061027d600160a060020a0360043581169060243516604435610ff3565b34801561052257600080fd5b506102a061100f565b34801561053757600080fd5b5061024860043561101e565b34801561054f57600080fd5b506103af60043561103b565b34801561056757600080fd5b5061027d60ff60043581169060243516611070565b34801561058857600080fd5b5061024861119c565b34801561059d57600080fd5b5061027d60ff600435811690602435811690604435811690606435166084356111ac565b3480156105cd57600080fd5b506102a0600435611325565b3480156105e557600080fd5b5061027d600160a060020a036004351661ffff6024351661134f565b34801561060d57600080fd5b5061027d60ff6004803582169160248035821692604435831692606435169160843580820192908101359160a43580820192908101359160c43590810191013561139b565b34801561065e57600080fd5b506103af600160a060020a03600435166115e7565b34801561067f57600080fd5b5061027d61161a565b34801561069457600080fd5b506102a061167b565b3480156106a957600080fd5b5061027d60ff6004358116906024358116906044358116906064351660843561168a565b3480156106d957600080fd5b506106ee60ff60043581169060243516611803565b6040805161ffff9092168252519081900360200190f35b34801561071157600080fd5b5061027d611815565b34801561072657600080fd5b5061027d600160a060020a0360043516611892565b34801561074757600080fd5b506102a06119b0565b61027d60ff600435811690602435811690604435811690606435166119bf565b34801561077c57600080fd5b506102d1611b4b565b34801561079157600080fd5b5061027d611bac565b3480156107a657600080fd5b5061027d600160a060020a03600435166024351515611c21565b3480156107cc57600080fd5b50610248600160a060020a036004351660ff60243581169060443581169060643581169060843516611c42565b34801561080557600080fd5b506103af60ff60043581169060243581169060443581169060643516608435611d35565b34801561083557600080fd5b506102a0611dc1565b34801561084a57600080fd5b50604080516020601f60643560048181013592830184900484028501840190955281845261027d94600160a060020a038135811695602480359092169560443595369560849401918190840183828082843750949750611dd09650505050505050565b3480156108b957600080fd5b506102d1600435611df8565b3480156108d157600080fd5b50610248600160a060020a0360043581169060243516611ead565b61027d60ff60043581169060243581169060443581169060643516608435611edb565b34801561091b57600080fd5b5061027d600160a060020a036004351661207e565b34801561093c57600080fd5b506102486120a1565b600160e060020a03191660009081526020819052604090205460ff1690565b600c54600090600160a060020a0316331461097e57600080fd5b81905080600160a060020a031663c8aeff396040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156109bf57600080fd5b505af11580156109d3573d6000803e3d6000fd5b505050506040513d60208110156109e957600080fd5b505115156109f657600080fd5b600d8054600160a060020a031916600160a060020a0383811691909117909155604080519184168252602082018190526006828201527f4d61726b657400000000000000000000000000000000000000000000000000006060830152517f57eb6fa568b0fb5f40c0b0e92b88ea185154fe3f67bc5f5972b7044a6ee8860c916080908290030190a15050565b6000610a9a610a918484611803565b61ffff16611325565b9392505050565b60058054604080516020601f6002600019610100600188161502019095169490940493840181900481028201810190925282815260609390929091830182828015610b2d5780601f10610b0257610100808354040283529160200191610b2d565b820191906000526020600020905b815481529060010190602001808311610b1057829003601f168201915b505050505090505b90565b600090815260026020526040902054600160a060020a031690565b600c5460a060020a900460ff1615610b6a57600080fd5b610b7482826120c3565b5050565b6000610b868585858561216c565b1515610b9157600080fd5b600d54600160a060020a031663a19b54b1610bae878787876121d3565b6040518263ffffffff1660e060020a0281526004018080602001828103825283818151815260200191508051906020019060200280838360005b83811015610c00578181015183820152602001610be8565b5050505090500192505050602060405180830381600087803b158015610c2557600080fd5b505af1158015610c39573d6000803e3d6000fd5b505050506040513d6020811015610c4f57600080fd5b505195945050505050565b60095490565b7f01ffc9a70000000000000000000000000000000000000000000000000000000081565b600c5460a060020a900460ff1615610c9b57600080fd5b610ca6838383612282565b505050565b60106020526000908152604090205481565b6000610cc8836115e7565b8210610cd357600080fd5b600160a060020a0383166000908152600760205260409020805483908110610cf757fe5b9060005260206000200154905092915050565b600c54600090600160a060020a03163314610d2457600080fd5b81905080600160a060020a0316632cea70e46040518163ffffffff1660e060020a028152600401602060405180830381600087803b158015610d6557600080fd5b505af1158015610d79573d6000803e3d6000fd5b505050506040513d6020811015610d8f57600080fd5b50511515610d9c57600080fd5b600f8054600160a060020a031916600160a060020a0383811691909117909155604080519184168252602082018190526003828201527f41647300000000000000000000000000000000000000000000000000000000006060830152517f57eb6fa568b0fb5f40c0b0e92b88ea185154fe3f67bc5f5972b7044a6ee8860c916080908290030190a15050565b600c54600090819060a060020a900460ff1615610e4457600080fd5b505033600081815260106020526040902054801515610e6257600080fd5b3031811115610e6d57fe5b600160a060020a0382166000818152601060205260408082208290555183156108fc0291849190818181858888f19350505050158015610eb1573d6000803e3d6000fd5b5060408051600160a060020a03841681526000839003602082015281517f0369ab5114746a663e6a0bf3173873a0993def922a02b37e249daedc3bc23a33929181900390910190a15050565b600d54600160a060020a0316331480610f205750600e54600160a060020a031633145b1515610f2b57600080fd5b600c5460a060020a900460ff1615610f4257600080fd5b600160a060020a038316600090815260106020526040902054811115610f6757600080fd5b610f718382612325565b610ca6828261236e565b600c54600160a060020a03163314610f9257600080fd5b600c5460a060020a900460ff161515610faa57600080fd5b600c805474ff0000000000000000000000000000000000000000191690556040517f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b3390600090a1565b610ca68383836020604051908101604052806000815250611dd0565b600e54600160a060020a031681565b600090815260016020526040902054600160a060020a0316151590565b6000611045610c5a565b821061105057600080fd5b600980548390811061105e57fe5b90600052602060002001549050919050565b600c546000908190600160a060020a0316331461108c57600080fd5b600d54604080517ffa28869000000000000000000000000000000000000000000000000000000000815260ff8088166004830152861660248201528151600160a060020a039093169263fa288690926044808401939192918290030181600087803b1580156110fa57600080fd5b505af115801561110e573d6000803e3d6000fd5b505050506040513d604081101561112457600080fd5b5080516020918201516040805183815260ff808a16958201869052881681830181905260608201959095526080810194909452600160a060020a03821660a08501525191945092507fe20bbf653bfbd73501ce68ba146655dd11b8cb92b58c6e09e51240f71b0604c89181900360c00190a150505050565b600c5460a060020a900460ff1681565b600c5460009060a060020a900460ff16156111c657600080fd5b6111d28686868661216c565b15156111dd57600080fd5b600d54600160a060020a0316634f0df28133846111fc8a8a8a8a6121d3565b6040518463ffffffff1660e060020a0281526004018084600160a060020a0316600160a060020a0316815260200183815260200180602001828103825283818151815260200191508051906020019060200280838360005b8381101561126c578181015183820152602001611254565b50505050905001945050505050602060405180830381600087803b15801561129357600080fd5b505af11580156112a7573d6000803e3d6000fd5b505050506040513d60208110156112bd57600080fd5b50516040805182815260ff808a1660208301528089168284015280881660608301528616608082015260a0810185905290519192507f360173d18358af783de4081efd2bac2ee74a7cdf21c5c6afe4e10b4d1adee45f919081900360c00190a1505050505050565b600081815260016020526040812054600160a060020a031680151561134957600080fd5b92915050565b600d54600160a060020a0316331461136657600080fd5b600c5460a060020a900460ff161561137d57600080fd5b61270f611388610c5a565b11610b7457610b74828261ffff16612397565b600c5460009060a060020a900460ff16156113b557600080fd5b6113c18b8b8b8b61216c565b15156113cc57600080fd5b600f54600160a060020a0316635d22acd6336113ea8e8e8e8e6121d3565b8a8a8a8a8a8a6040518963ffffffff1660e060020a0281526004018089600160a060020a0316600160a060020a031681526020018060200180602001806020018060200185810385528c818151815260200191508051906020019060200280838360005b8381101561146657818101518382015260200161144e565b5050505090500185810384528b8b82818152602001925080828437909101868103845289815260200190508989808284379091018681038352878152602001905087878082843782019150509c50505050505050505050505050602060405180830381600087803b1580156114da57600080fd5b505af11580156114ee573d6000803e3d6000fd5b505050506040513d602081101561150457600080fd5b50516040805182815260ff808f166020830152808e1692820192909252818c166060820152908a16608082015261010060a0820181815290820189905291925033917f5ed363c4a85773605c56eb312ac2cc1a616d800e2efd8ee563a9c57b72c41d3f9184918f918f918f918f918f918f918f918f918f918f9160c0820160e0830161012084018a8a80828437909101858103845288815260200190508888808284379091018581038352868152602001905086868082843782019150509e50505050505050505050505050505060405180910390a25050505050505050505050565b6000600160a060020a03821615156115fe57600080fd5b50600160a060020a031660009081526003602052604090205490565b600c54600160a060020a0316331461163157600080fd5b600c54604051600160a060020a03909116907ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482090600090a2600c8054600160a060020a0319169055565b600d54600160a060020a031681565b600c5460009060a060020a900460ff16156116a457600080fd5b6116b08686868661216c565b15156116bb57600080fd5b600e54600160a060020a031663b4c5ae8f33846116da8a8a8a8a6121d3565b6040518463ffffffff1660e060020a0281526004018084600160a060020a0316600160a060020a0316815260200183815260200180602001828103825283818151815260200191508051906020019060200280838360005b8381101561174a578181015183820152602001611732565b50505050905001945050505050602060405180830381600087803b15801561177157600080fd5b505af1158015611785573d6000803e3d6000fd5b505050506040513d602081101561179b57600080fd5b50516040805182815260ff808a1660208301528089168284015280881660608301528616608082015260a0810185905290519192507f1cc3d509908e209c515ad2bcd208e6ad638e83caaa91789e65beea48d20c891d919081900360c00190a1505050505050565b606460001960ff928316010291160190565b600c54600160a060020a0316331461182c57600080fd5b600c5460a060020a900460ff161561184357600080fd5b600c805474ff0000000000000000000000000000000000000000191660a060020a1790556040517f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff62590600090a1565b600c54600090600160a060020a031633146118ac57600080fd5b81905080600160a060020a0316637e990ad86040518163ffffffff1660e060020a028152600401602060405180830381600087803b1580156118ed57600080fd5b505af1158015611901573d6000803e3d6000fd5b505050506040513d602081101561191757600080fd5b5051151561192457600080fd5b600e8054600160a060020a031916600160a060020a0383811691909117909155604080519184168252602082018190526007828201527f52656e74616c73000000000000000000000000000000000000000000000000006060830152517f57eb6fa568b0fb5f40c0b0e92b88ea185154fe3f67bc5f5972b7044a6ee8860c916080908290030190a15050565b600c54600160a060020a031681565b600c5460009060a060020a900460ff16156119d957600080fd5b6119e58585858561216c565b15156119f057600080fd5b611a046119ff86868686610b78565b6123e6565b1515611a0f57600080fd5b611a17612411565b600d54600160a060020a031663a81c466c33611a35888888886121d3565b6040805160e060020a63ffffffff8616028152600160a060020a0384166004820190815260248201928352835160448301528351909291606401906020858101910280838360005b83811015611a95578181015183820152602001611a7d565b505050509050019350505050602060405180830381600087803b158015611abb57600080fd5b505af1158015611acf573d6000803e3d6000fd5b505050506040513d6020811015611ae557600080fd5b50516040805182815260ff8089166020830152808816828401528087166060830152851660808201523360a082015290519192507fe20bbf653bfbd73501ce68ba146655dd11b8cb92b58c6e09e51240f71b0604c8919081900360c00190a15050505050565b60068054604080516020601f6002600019610100600188161502019095169490940493840181900481028201810190925282815260609390929091830182828015610b2d5780601f10610b0257610100808354040283529160200191610b2d565b600c546000908190600160a060020a03163314611bc857600080fd5b600c5460a060020a900460ff161515611be057600080fd5b5050600c54604051600160a060020a0390911690303190829082156108fc029083906000818181858888f19350505050158015610ca6573d6000803e3d6000fd5b600c5460a060020a900460ff1615611c3857600080fd5b610b74828261246e565b6000611c508585858561216c565b1515611c5b57600080fd5b600f54600160a060020a03166301eadcfa87611c79888888886121d3565b6040805160e060020a63ffffffff8616028152600160a060020a0384166004820190815260248201928352835160448301528351909291606401906020858101910280838360005b83811015611cd9578181015183820152602001611cc1565b505050509050019350505050602060405180830381600087803b158015611cff57600080fd5b505af1158015611d13573d6000803e3d6000fd5b505050506040513d6020811015611d2957600080fd5b50519695505050505050565b6000611d438686868661216c565b1515611d4e57600080fd5b600e54600160a060020a0316639447f03c83611d6c898989896121d3565b6040805160e060020a63ffffffff861602815260048101848152602482019283528351604483015283519092916064019060208581019102808383600083811015611cd9578181015183820152602001611cc1565b600f54600160a060020a031681565b611ddb848484610c84565b611de7848484846124f2565b1515611df257600080fd5b50505050565b6060611e038261101e565b1515611e0e57600080fd5b6000828152600b602090815260409182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529091830182828015611ea15780601f10611e7657610100808354040283529160200191611ea1565b820191906000526020600020905b815481529060010190602001808311611e8457829003601f168201915b50505050509050919050565b600160a060020a03918216600090815260046020908152604080832093909416825291909152205460ff1690565b600c5460009060a060020a900460ff1615611ef557600080fd5b611f018686868661216c565b1515611f0c57600080fd5b611f1c6119ff8787878787611d35565b1515611f2757600080fd5b611f2f612411565b600e54600160a060020a031663b16396ed3384611f4e8a8a8a8a6121d3565b6040518463ffffffff1660e060020a0281526004018084600160a060020a0316600160a060020a0316815260200183815260200180602001828103825283818151815260200191508051906020019060200280838360005b83811015611fbe578181015183820152602001611fa6565b50505050905001945050505050602060405180830381600087803b158015611fe557600080fd5b505af1158015611ff9573d6000803e3d6000fd5b505050506040513d602081101561200f57600080fd5b50516040805182815260ff808a1660208301528089168284015280881660608301528616608082015260a08101859052600060c082015290519192507f25e88ddaf73d752851e12447688b9959bd019c66dc0e2728a3afaab7a37a3493919081900360e00190a1505050505050565b600c54600160a060020a0316331461209557600080fd5b61209e8161265f565b50565b600c547501000000000000000000000000000000000000000000900460ff1681565b60006120ce82611325565b9050600160a060020a0383811690821614156120e957600080fd5b33600160a060020a038216148061210557506121058133611ead565b151561211057600080fd5b6000828152600260205260408082208054600160a060020a031916600160a060020a0387811691821790925591518593918516917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591a4505050565b600060018560ff1610158015612186575060018460ff1610155b8015612196575060648360ff1611155b80156121a6575060648260ff1611155b80156121b857508260ff168560ff1611155b80156121ca57508160ff168460ff1611155b95945050505050565b6060600080806121e5888888886126d0565b61ffff16604051908082528060200260200182016040528015612212578160200160208202803883390190505b5093508791505b60ff808716908316116122775750855b60ff8086169082161161226c576122408282611803565b848481518110151561224e57fe5b61ffff90921660209283029091019091015260019283019201612229565b600190910190612219565b505050949350505050565b61228c33826126e5565b151561229757600080fd5b600160a060020a03831615156122ac57600080fd5b600160a060020a03821615156122c157600080fd5b6122cb838261280d565b6122d5838261286f565b6122df8282612976565b8082600160a060020a031684600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b600160a060020a03821660009081526010602052604090205461234e908263ffffffff6129bf16565b600160a060020a0390921660009081526010602052604090209190915550565b600160a060020a03821660009081526010602052604090205461234e908263ffffffff6129d116565b6123a182826129de565b600980546000838152600a60205260408120829055600182018355919091527f6e1540171b6c0c960b71a7020d9f60077f6af931a8bbf590da0223dacf75c7af015550565b33600090815260106020526040812054829061240990349063ffffffff6129d116565b101592915050565b600c5460a060020a900460ff161561242857600080fd5b612432333461236e565b6040805133815234602082015281517f0369ab5114746a663e6a0bf3173873a0993def922a02b37e249daedc3bc23a33929181900390910190a1565b600160a060020a03821633141561248457600080fd5b336000818152600460209081526040808320600160a060020a03871680855290835292819020805460ff1916861515908117909155815190815290519293927f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31929181900390910190a35050565b60008061250785600160a060020a0316612a39565b15156125165760019150612656565b6040517f150b7a020000000000000000000000000000000000000000000000000000000081523360048201818152600160a060020a03898116602485015260448401889052608060648501908152875160848601528751918a169463150b7a0294938c938b938b93909160a490910190602085019080838360005b838110156125a9578181015183820152602001612591565b50505050905090810190601f1680156125d65780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381600087803b1580156125f857600080fd5b505af115801561260c573d6000803e3d6000fd5b505050506040513d602081101561262257600080fd5b5051600160e060020a031981167f150b7a020000000000000000000000000000000000000000000000000000000014925090505b50949350505050565b600160a060020a038116151561267457600080fd5b600c54604051600160a060020a038084169216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a3600c8054600160a060020a031916600160a060020a0392909216919091179055565b60ff9390910360019081019290910301021690565b600d54604080517f9994ad5500000000000000000000000000000000000000000000000000000000815261ffff841660048201529051600092839283928392600160a060020a031691639994ad5591602480830192602092919082900301818787803b15801561275457600080fd5b505af1158015612768573d6000803e3d6000fd5b505050506040513d602081101561277e57600080fd5b5051925061278b85611325565b915081600160a060020a031686600160a060020a031614806127c6575085600160a060020a03166127bb86610b38565b600160a060020a0316145b806127d657506127d68287611ead565b90508280156127f25750600d54600160a060020a038781169116145b806128035750821580156128035750805b9695505050505050565b81600160a060020a031661282082611325565b600160a060020a03161461283357600080fd5b600081815260026020526040902054600160a060020a031615610b745760009081526002602052604090208054600160a060020a031916905550565b600080600061287e8585612a41565b600084815260086020908152604080832054600160a060020a03891684526007909252909120549093506128b990600163ffffffff6129bf16565b600160a060020a0386166000908152600760205260409020805491935090839081106128e157fe5b90600052602060002001549050806007600087600160a060020a0316600160a060020a031681526020019081526020016000208481548110151561292157fe5b6000918252602080832090910192909255600160a060020a0387168152600790915260409020805490612958906000198301612b4d565b50600093845260086020526040808520859055908452909220555050565b60006129828383612aca565b50600160a060020a039091166000908152600760209081526040808320805460018101825590845282842081018590559383526008909152902055565b6000828211156129cb57fe5b50900390565b8181018281101561134957fe5b600160a060020a03821615156129f357600080fd5b6129fd8282612976565b6040518190600160a060020a038416906000907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef908290a45050565b6000903b1190565b81600160a060020a0316612a5482611325565b600160a060020a031614612a6757600080fd5b600160a060020a038216600090815260036020526040902054612a9190600163ffffffff6129bf16565b600160a060020a039092166000908152600360209081526040808320949094559181526001909152208054600160a060020a0319169055565b600081815260016020526040902054600160a060020a031615612aec57600080fd5b60008181526001602081815260408084208054600160a060020a031916600160a060020a0388169081179091558452600390915290912054612b2d916129d1565b600160a060020a0390921660009081526003602052604090209190915550565b815481835581811115610ca657600083815260209020610ca6918101908301610b3591905b80821115612b865760008155600101612b72565b50905600a165627a7a7230582027061fc3142458ddfcfff85a76ed2b0367409e3c38882485566fc64f90f1a36b0029"}